<!DOCTYPE html>

<html lang="<%= page_lang %>">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= setup_page_title %>
    </title>
    <meta name="apple-mobile-web-app-title" content="BrewPi Setup">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script type="text/javascript" src="js/vendor/bwf.js"></script>
    <script type="text/javascript" src="js/script-setup.js"></script>
</head>
<style>
    button {
        color: #1d5987;
        background: #dfeffc;
        font-weight: bold;
        border-top-right-radius: 5px;
        border-top-left-radius: 5px;
        border-bottom-right-radius: 5px;
        border-bottom-left-radius: 5px
    }
    
    .corner-top {
        border-top-right-radius: 5px;
        border-top-left-radius: 5px
    }
    
    .corner-bottom {
        border-bottom-right-radius: 5px;
        border-bottom-left-radius: 5px
    }
    
    .navbar {
        margin: 0;
        padding: .2em .2em 0;
        border: 1px solid #4297d7;
        background: #5c9ccc;
        color: #fff;
        height: 2em;
        display: block;
        position: relative
    }
    
    .bar-title {
        margin-right: 160px;
        font-weight: bold
    }
    
    .device-container {
        border: 1px solid;
        padding: 5px
    }
    
    .device-setting-container {
        padding: 5px;
        width: 150px;
        float: left;
        color: #555
    }
    
    .device-titleNapply {
        float: left;
        padding: 5px
    }
    
    .setting-name {
        font-weight: bold;
        display: block
    }
    
    .device-detail {
        float: left
    }
    
    .device-title {
        display: block;
        white-space: nowrap;
        float: left;
        clear: both;
        font-size: 1.2em;
        color: #306fa9
    }
    
    #installed-device,
    #detected-device {
        font-weight: bold;
        font-size: 18px;
        padding: .5em
    }
    
    .modal {
        display: none;
        position: fixed;
        z-index: 1;
        padding-top: 100px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: #000;
        background-color: rgba(0, 0, 0, 0.4)
    }
    
    .modal-content {
        background-color: #fefefe;
        margin: auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%
    }
</style>

<body onload=init(true)>
    <div class="navbar corner-top corner-bottom">
        <span class="bar-title"><%= setup_device_list %></span>
        <button onclick=backup()><%= setup_backup %></button>
        <button onclick=restore()><%= setup_restore %></button>
        <button onclick=erase()><%= setup_erase_eeprom %></button>
        <button onclick=list()><%= setup_refresh %></button>
    </div>
    <div id="device-list">
        <div id="installed-device">
            <%= setup_installed_device %>
        </div>
        <div id="installed-list"></div>
        <div id="detected-device">
            <%= setup_detected_device %>
        </div>
        <div id="detected-list">
        </div>
    </div>
    <div class='device-container extsensor-device'>
        <table>
            <tr>
                <td ROWSPAN=2>
                    <div class='device-title'></div>
                    <br>
                    <button><%= setup_apply %></button>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_device_slot %></span>
                        <select class='slot-select'>
                                <option value='-1'><%= setup_unassigned %></option>
                                <option value='0'>0</option>
                                <option value='1'>1</option>
                                <option value='2'>2</option>
                                <option value='3'>3</option>
                                <option value='4'>4</option>
                                <option value='5'>5</option>
                                <option value='6'>6</option>
                                <option value='7'>7</option>
                                <option value='8'>8</option>
                                <option value='9'>9</option>
                                <option value='10'>10</option>
                                <option value='11'>11</option>
                                <option value='12'>12</option>
                                <option value='13'>13</option>
                                <option value='14'>14</option>
                                <option value='15'>15</option>
                            </select>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_hardware_type %></span>
                        <span class='setting-value device-type'><%= setup_external_sensor %></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container device-address-container'>
                        <span class='setting-name'></span>
                        <span class='setting-value device-address'></span>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_controller_pin %></span>
                        <span class='setting-value device-pin'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_value %></span>
                        <span class='setting-value device-value'>--</span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_function %></span>
                        <select class='setting-value device-function'>
                                <option value=0><%= setup_none %></option>
                                <option value=5><%= setup_chamber_temp %></option>
                                <option value=6><%= setup_room_temp %></option>
                                <option value=9><%= setup_beer_temp %></option>
                            </select>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div class='device-container sensor-device'>
        <table>
            <tr>
                <td ROWSPAN=2>
                    <div class='device-title'></div>
                    <br>
                    <button><%= setup_apply %></button>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_device_slot %></span>
                        <select class='slot-select'>
                                <option value='-1'><%= setup_unassigned %></option>
                                <option value='0'>0</option>
                                <option value='1'>1</option>
                                <option value='2'>2</option>
                                <option value='3'>3</option>
                                <option value='4'>4</option>
                                <option value='5'>5</option>
                                <option value='6'>6</option>
                                <option value='7'>7</option>
                                <option value='8'>8</option>
                                <option value='9'>9</option>
                                <option value='10'>10</option>
                                <option value='11'>11</option>
                                <option value='12'>12</option>
                                <option value='13'>13</option>
                                <option value='14'>14</option>
                                <option value='15'>15</option>
                            </select>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_hardware_type %></span>
                        <span class='setting-value device-type'><%= setup_sensor %></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container device-address-container'>
                        <span class='setting-name'><%= setup_address %></span>
                        <span class='setting-value device-address'></span>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_controller_pin %></span>
                        <span class='setting-value device-pin'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_value %></span>
                        <span class='setting-value device-value'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_function %></span>
                        <select class='setting-value device-function'>
                                    <option value=0><%= setup_none %></option>
                                    <option value=5><%= setup_chamber_temp %></option>
                                    <option value=6><%= setup_room_temp %></option>
                                    <option value=9><%= setup_beer_temp %></option>
                                </select>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div class='device-container pin-device'>
        <table>
            <tr>
                <td ROWSPAN=2>
                    <div class='device-title'></div>
                    <br>
                    <button><%= setup_apply %></button>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_device_slot %></span>
                        <select class='slot-select'>
                                <option value='-1'><%= setup_unassigned %></option>
                                <option value='0'>0</option>
                                <option value='1'>1</option>
                                <option value='2'>2</option>
                                <option value='3'>3</option>
                                <option value='4'>4</option>
                                <option value='5'>5</option>
                                <option value='6'>6</option>
                                <option value='7'>7</option>
                                <option value='8'>8</option>
                                <option value='9'>9</option>
                                <option value='10'>10</option>
                                <option value='11'>11</option>
                                <option value='12'>12</option>
                                <option value='13'>13</option>
                                <option value='14'>14</option>
                                <option value='15'>15</option>
                            </select>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_hardware_type %></span>
                        <span class='setting-value device-type'><%= setup_pin %></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container device-pintype-container'>
                        <span class='setting-name'><%= setup_pin_type %></span>
                        <select class='setting-value device-pintype'>
                                <option value=0><%= setup_not_inverted %></option>
                                <option value=1><%= setup_inverted %></option>
                            </select>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_controller_pin %></span>
                        <span class='setting-value device-pin'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_value %></span>
                        <span class='setting-value device-value'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_function %></span>
                        <select class='setting-value device-function'>
                                <option value=0><%= setup_none %></option>
                                <option value=1><%= setup_chamber_door %></option>
                                <option value=2><%= setup_chamber_heater %></option>
                                <option value=3><%= setup_chamber_cooler %></option>
                                <option value=4><%= setup_chamber_light %></option>
                                <option value=7><%= setup_chamber_fan %></option>
                                <option value=14><%= setup_capper %></option>
                                <option value=15><%= setup_ptc_cooler %></option>

                            </select>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div class='device-container ow-device'>
        <table>
            <tr>
                <td ROWSPAN=2>
                    <div class='device-title'></div>
                    <br>
                    <button><%= setup_apply %></button>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_device_slot %></span>
                        <select class='slot-select'>
                            <option value='-1'><%= setup_unassigned %></option>
                            <option value='0'>0</option>
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                            <option value='6'>6</option>
                            <option value='7'>7</option>
                            <option value='8'>8</option>
                            <option value='9'>9</option>
                            <option value='10'>10</option>
                            <option value='11'>11</option>
                            <option value='12'>12</option>
                            <option value='13'>13</option>
                            <option value='14'>14</option>
                            <option value='15'>15</option>
                        </select>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_hardware_type %></span>
                        <span class='setting-value device-type'><%= setup_1wire_actuator %></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container device-address-container'>
                        <span class='setting-name'><%= setup_address %></span>
                        <span class='setting-value device-address'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container device-channel-container'>
                        <span class='setting-name'><%= setup_channel %></span>
                        <span class='setting-value device-channel'></span>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_controller_pin %>N</span>
                        <span class='setting-value device-pin'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_value %></span>
                        <span class='setting-value device-value'></span>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container'>
                        <span class='setting-name'><%= setup_function %></span>
                        <select class='setting-value device-function'>
                                <option value=0><%= setup_none %></option>
                                <option value=1><%= setup_chamber_door %></option>
                                <option value=2><%= setup_chamber_heater %></option>
                                <option value=3><%= setup_chamber_cooler %></option>
                                <option value=4><%= setup_chamber_light %></option>
                                <option value=7><%= setup_chamber_fan %></option>
                                <option value=14><%= setup_capper %></option>
                                <option value=15><%= setup_ptc_cooler %></option>

                        </select>
                    </div>
                </td>
                <td>
                    <div class='device-setting-container device-pintype-container'>
                        <span class='setting-name'><%= setup_pin_type %></span>
                        <select class='setting-value device-pintype'>
                                <option value=0><%= setup_not_inverted %></option>
                                <option value=1><%= setup_inverted %></option>
                        </select>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="blockscreen" class="modal">
        <div id="blockscreencontent" class="modal-content">
        </div>
    </div>
</body>

</html>
