<html>
<head>
<meta http-equiv=content-type content="text/html; charset=utf-8">
<meta name=viewport content="width=device-width,initial-scale=1">
<title>BrewPiLess Log Viewer v2.4</title>
<meta name=apple-mobile-web-app-title content=BrewPiLess>
<meta name=apple-mobile-web-app-capable content=yes>
<script type="text/javascript">/*<![CDATA[*//*! @license Copyright 2014 Dan Vanderkam (danvdk@gmail.com) MIT-licensed (http://opensource.org/licenses/MIT) */
!function(d){for(var g,b,c={},f=function(){},j="memory".split(","),h="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");g=j.pop();){d[g]=d[g]||c}for(;b=h.pop();){d[b]=d[b]||f}}(this.console=this.console||{}),function(){CanvasRenderingContext2D.prototype.installPattern=function(d){if("undefined"!=typeof this.isPatternInstalled){throw"Must un-install old line pattern before installing a new one."}this.isPatternInstalled=!0;var g=[0,0],b=[],c=this.beginPath,f=this.lineTo,j=this.moveTo,h=this.stroke;this.uninstallPattern=function(){this.beginPath=c,this.lineTo=f,this.moveTo=j,this.stroke=h,this.uninstallPattern=void 0,this.isPatternInstalled=void 0},this.beginPath=function(){b=[],c.call(this)},this.moveTo=function(a,i){b.push([[a,i]]),j.call(this,a,i)},this.lineTo=function(k,l){var a=b[b.length-1];a.push([k,l])},this.stroke=function(){if(0===b.length){return void h.call(this)}for(var k=0;k<b.length;k++){for(var C=b[k],e=C[0][0],m=C[0][1],a=1;a<C.length;a++){var n=C[a][0],q=C[a][1];this.save();var B=n-e,r=q-m,t=Math.sqrt(B*B+r*r),A=Math.atan2(r,B);this.translate(e,m),j.call(this,0,0),this.rotate(A);for(var z=g[0],o=0;t>o;){var w=d[z];o+=g[1]?g[1]:w,o>t?(g=[z,o-t],o=t):g=[(z+1)%d.length,0],z%2===0?f.call(this,o,0):j.call(this,o,0),z=(z+1)%d.length}this.restore(),e=n,m=q}}h.call(this),b=[]}},CanvasRenderingContext2D.prototype.uninstallPattern=function(){throw"Must install a line pattern before uninstalling it."}}();var DygraphOptions=function(){return function(){var a=function(b){this.dygraph_=b,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};a.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},a.axisToIndex_=function(b){if("string"==typeof b){if(a.AXIS_STRING_MAPPINGS_.hasOwnProperty(b)){return a.AXIS_STRING_MAPPINGS_[b]}throw"Unknown axis : "+b}if("number"==typeof b){if(0===b||1===b){return b}throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(b){throw"Unknown axis : "+b}return 0},a.prototype.reparseSeries=function(){var k=this.get("labels");if(k){this.labels_=k.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};var m=!this.user_.series;if(m){for(var g=0,b=0;b<this.labels_.length;b++){var d=this.labels_[b],c=this.user_[d]||{},p=0,f=c.axis;"object"==typeof f&&(p=++g,this.yAxes_[p]={series:[d],options:f}),f||this.yAxes_[0].series.push(d),this.series_[d]={idx:b,yAxis:p,options:c}}for(var b=0;b<this.labels_.length;b++){var d=this.labels_[b],c=this.series_[d].options,f=c.axis;if("string"==typeof f){if(!this.series_.hasOwnProperty(f)){return void console.error("Series "+d+" wants to share a y-axis with series "+f+", which does not define its own axis.")}var p=this.series_[f].yAxis;this.series_[d].yAxis=p,this.yAxes_[p].series.push(d)}}}else{for(var b=0;b<this.labels_.length;b++){var d=this.labels_[b],c=this.user_.series[d]||{},p=a.axisToIndex_(c.axis);this.series_[d]={idx:b,yAxis:p,options:c},this.yAxes_[p]?this.yAxes_[p].series.push(d):this.yAxes_[p]={series:[d],options:{}}}}var j=this.user_.axes||{};Dygraph.update(this.yAxes_[0].options,j.y||{}),this.yAxes_.length>1&&Dygraph.update(this.yAxes_[1].options,j.y2||{}),Dygraph.update(this.xAxis_.options,j.x||{})}},a.prototype.get=function(b){var c=this.getGlobalUser_(b);return null!==c?c:this.getGlobalDefault_(b)},a.prototype.getGlobalUser_=function(b){return this.user_.hasOwnProperty(b)?this.user_[b]:null},a.prototype.getGlobalDefault_=function(b){return this.global_.hasOwnProperty(b)?this.global_[b]:Dygraph.DEFAULT_ATTRS.hasOwnProperty(b)?Dygraph.DEFAULT_ATTRS[b]:null},a.prototype.getForAxis=function(d,h){var b,c;if("number"==typeof h){b=h,c=0===b?"y":"y2"}else{if("y1"==h&&(h="y"),"y"==h){b=0}else{if("y2"==h){b=1}else{if("x"!=h){throw"Unknown axis "+h}b=-1}}c=h}var g=-1==b?this.xAxis_:this.yAxes_[b];if(g){var k=g.options;if(k.hasOwnProperty(d)){return k[d]}}if("x"!==h||"logscale"!==d){var j=this.getGlobalUser_(d);if(null!==j){return j}}var f=Dygraph.DEFAULT_ATTRS.axes[c];return f.hasOwnProperty(d)?f[d]:this.getGlobalDefault_(d)},a.prototype.getForSeries=function(d,f){if(f===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(d)){return this.highlightSeries_[d]}if(!this.series_.hasOwnProperty(f)){throw"Unknown series: "+f}var b=this.series_[f],c=b.options;return c.hasOwnProperty(d)?c[d]:this.getForAxis(d,b.yAxis)},a.prototype.numAxes=function(){return this.yAxes_.length},a.prototype.axisForSeries=function(b){return this.series_[b].yAxis},a.prototype.axisOptions=function(b){return this.yAxes_[b].options},a.prototype.seriesForAxis=function(b){return this.yAxes_[b].series},a.prototype.seriesNames=function(){return this.labels_};return a}()}(),DygraphLayout=function(){var a=function(b){this.dygraph_=b,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};return a.prototype.addDataset=function(b,c){this.points.push(c),this.setNames.push(b)},a.prototype.getPlotArea=function(){return this.area_},a.prototype.computePlotArea=function(){var b={x:0,y:0};b.w=this.dygraph_.width_-b.x-this.dygraph_.getOption("rightGap"),b.h=this.dygraph_.height_;var c={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(f){var d={x:b.x,y:b.y,w:f,h:b.h};return b.x+=f,b.w-=f,d},reserveSpaceRight:function(f){var d={x:b.x+b.w-f,y:b.y,w:f,h:b.h};return b.w-=f,d},reserveSpaceTop:function(f){var d={x:b.x,y:b.y,w:b.w,h:f};return b.y+=f,b.h-=f,d},reserveSpaceBottom:function(f){var d={x:b.x,y:b.y+b.h-f,w:b.w,h:f};return b.h-=f,d},chartRect:function(){return{x:b.x,y:b.y,w:b.w,h:b.h}}};this.dygraph_.cascadeEvents_("layout",c),this.area_=b},a.prototype.setAnnotations=function(d){this.annotations=[];for(var f=this.dygraph_.getOption("xValueParser")||function(e){return e},b=0;b<d.length;b++){var c={};if(!d[b].xval&&void 0===d[b].x){return void console.error("Annotations must have an 'x' property")}if(d[b].icon&&(!d[b].hasOwnProperty("width")||!d[b].hasOwnProperty("height"))){return void console.error("Must set width and height when setting annotation.icon property")}Dygraph.update(c,d[b]),c.xval||(c.xval=f(c.x)),this.annotations.push(c)}},a.prototype.setXTicks=function(b){this.xTicks_=b},a.prototype.setYAxes=function(b){this.yAxes_=b},a.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},a.prototype._evaluateLimits=function(){var d=this.dygraph_.xAxisRange();this._xAxis.minval=d[0],this._xAxis.maxval=d[1];var f=d[1]-d[0];this._xAxis.scale=0!==f?1/f:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=Dygraph.log10(this._xAxis.maxval)-Dygraph.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var b=0;b<this.yAxes_.length;b++){var c=this.yAxes_[b];c.minyval=c.computedValueRange[0],c.maxyval=c.computedValueRange[1],c.yrange=c.maxyval-c.minyval,c.yscale=0!==c.yrange?1/c.yrange:1,this.dygraph_.getOption("logscale")&&(c.ylogrange=Dygraph.log10(c.maxyval)-Dygraph.log10(c.minyval),c.ylogscale=0!==c.ylogrange?1/c.ylogrange:1,(!isFinite(c.ylogrange)||isNaN(c.ylogrange))&&console.error("axis "+b+" of graph at "+c.g+" can't be displayed in log scale for range ["+c.minyval+" - "+c.maxyval+"]"))}},a.calcXNormal_=function(c,d,b){return b?(Dygraph.log10(c)-Dygraph.log10(d.minval))*d.xlogscale:(c-d.minval)*d.scale},a.calcYNormal_=function(d,f,b){if(b){var c=1-(Dygraph.log10(f)-Dygraph.log10(d.minyval))*d.ylogscale;return isFinite(c)?c:0/0}return 1-(f-d.minyval)*d.yscale},a.prototype._evaluateLineCharts=function(){for(var t=this.dygraph_.getOption("stackedGraph"),u=this.dygraph_.getOptionForAxis("logscale","x"),k=0;k<this.points.length;k++){for(var b=this.points[k],f=this.setNames[k],d=this.dygraph_.getOption("connectSeparatedPoints",f),v=this.dygraph_.axisPropertiesForSeries(f),j=this.dygraph_.attributes_.getForSeries("logscale",f),m=0;m<b.length;m++){var c=b[m];c.x=a.calcXNormal_(c.xval,this._xAxis,u);var q=c.yval;t&&(c.y_stacked=a.calcYNormal_(v,c.yval_stacked,j),null===q||isNaN(q)||(q=c.yval_stacked)),null===q&&(q=0/0,d||(c.yval=0/0)),c.y=a.calcYNormal_(v,q,j)}this.dygraph_.dataHandler_.onLineEvaluated(b,v,j)}},a.prototype._evaluateLineTicks=function(){var d,g,b,c;for(this.xticks=[],d=0;d<this.xTicks_.length;d++){g=this.xTicks_[d],b=g.label,c=this.dygraph_.toPercentXCoord(g.v),c>=0&&1>c&&this.xticks.push([c,b])}for(this.yticks=[],d=0;d<this.yAxes_.length;d++){for(var f=this.yAxes_[d],h=0;h<f.ticks.length;h++){g=f.ticks[h],b=g.label,c=this.dygraph_.toPercentYCoord(g.v,d),c>0&&1>=c&&this.yticks.push([d,c,b])}}},a.prototype._evaluateAnnotations=function(){var d,g={};for(d=0;d<this.annotations.length;d++){var b=this.annotations[d];g[b.xval+","+b.series]=b}if(this.annotated_points=[],this.annotations&&this.annotations.length){for(var c=0;c<this.points.length;c++){var f=this.points[c];for(d=0;d<f.length;d++){var j=f[d],h=j.xval+","+j.name;h in g&&(j.annotation=g[h],this.annotated_points.push(j))}}}},a.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},a}(),DygraphCanvasRenderer=function(){var a=function(d,g,b,c){if(this.dygraph_=d,this.layout=c,this.element=g,this.elementContext=b,this.height=d.height_,this.width=d.width_,!this.isIE&&!Dygraph.isCanvasSupported(this.element)){throw"Canvas is not supported."}if(this.area=c.getPlotArea(),this.dygraph_.isUsingExcanvas_){this._createIEClipArea()}else{if(!Dygraph.isAndroid()){var f=this.dygraph_.canvas_ctx_;f.beginPath(),f.rect(this.area.x,this.area.y,this.area.w,this.area.h),f.clip(),f=this.dygraph_.hidden_ctx_,f.beginPath(),f.rect(this.area.x,this.area.y,this.area.w,this.area.h),f.clip()}}};return a.prototype.clear=function(){var b;if(this.isIE){try{this.clearDelay&&(this.clearDelay.cancel(),this.clearDelay=null),b=this.elementContext}catch(c){return}}b=this.elementContext,b.clearRect(0,0,this.width,this.height)},a.prototype.render=function(){this._updatePoints(),this._renderLineChart()},a.prototype._createIEClipArea=function(){function d(l){if(0!==l.w&&0!==l.h){var e=document.createElement("div");e.className=h,e.style.backgroundColor=g,e.style.position="absolute",e.style.left=l.x+"px",e.style.top=l.y+"px",e.style.width=l.w+"px",e.style.height=l.h+"px",b.appendChild(e)}}for(var h="dygraph-clip-div",b=this.dygraph_.graphDiv,c=b.childNodes.length-1;c>=0;c--){b.childNodes[c].className==h&&b.removeChild(b.childNodes[c])}for(var g=document.bgColor,k=this.dygraph_.graphDiv;k!=document;){var j=k.currentStyle.backgroundColor;if(j&&"transparent"!=j){g=j;break}k=k.parentNode}var f=this.area;d({x:0,y:0,w:f.x,h:this.height}),d({x:f.x,y:0,w:this.width-f.x,h:f.y}),d({x:f.x+f.w,y:0,w:this.width-f.x-f.w,h:this.height}),d({x:f.x,y:f.y+f.h,w:this.width-f.x,h:this.height-f.h-f.y})},a._getIteratorPredicate=function(b){return b?a._predicateThatSkipsEmptyPoints:null},a._predicateThatSkipsEmptyPoints=function(b,c){return null!==b[c].yval},a._drawStyledLine=function(w,B,q,b,k,j,E){var m=w.dygraph,t=m.getBooleanOption("stepPlot",w.setName);Dygraph.isArrayLike(b)||(b=null);var f=m.getBooleanOption("drawGapEdgePoints",w.setName),v=w.points,x=w.setName,D=Dygraph.createIterator(v,0,v.length,a._getIteratorPredicate(m.getBooleanOption("connectSeparatedPoints",x))),z=b&&b.length>=2,A=w.drawingContext;A.save(),z&&A.installPattern(b);var C=a._drawSeries(w,D,q,E,k,f,t,B);a._drawPointsOnLine(w,C,j,B,E),z&&A.uninstallPattern(),A.restore()},a._drawSeries=function(w,K,N,G,A,D,C,z){var F,H,B=null,I=null,L=null,q=[],M=!0,b=w.drawingContext;b.beginPath(),b.strokeStyle=z,b.lineWidth=N;for(var O=K.array_,k=K.end_,J=K.predicate_,j=K.start_;k>j;j++){if(H=O[j],J){for(;k>j&&!J(O,j);){j++}if(j==k){break}H=O[j]}if(null===H.canvasy||H.canvasy!=H.canvasy){C&&null!==B&&(b.moveTo(B,I),b.lineTo(H.canvasx,I)),B=I=null}else{if(F=!1,D||!B){K.nextIdx_=j,K.next(),L=K.hasNext?K.peek.canvasy:null;var E=null===L||L!=L;F=!B&&E,D&&(!M&&!B||K.hasNext&&E)&&(F=!0)}null!==B?N&&(C&&(b.moveTo(B,I),b.lineTo(H.canvasx,I)),b.lineTo(H.canvasx,H.canvasy)):b.moveTo(H.canvasx,H.canvasy),(A||F)&&q.push([H.canvasx,H.canvasy,H.idx]),B=H.canvasx,I=H.canvasy}M=!1}return b.stroke(),q},a._drawPointsOnLine=function(d,h,b,c,g){for(var k=d.drawingContext,j=0;j<h.length;j++){var f=h[j];k.save(),b.call(d.dygraph,d.dygraph,d.setName,k,f[0],f[1],c,g,f[2]),k.restore()}},a.prototype._updatePoints=function(){for(var d=this.layout.points,g=d.length;g--;){for(var b=d[g],c=b.length;c--;){var f=b[c];f.canvasx=this.area.w*f.x+this.area.x,f.canvasy=this.area.h*f.y+this.area.y}}},a.prototype._renderLineChart=function(k,E){var H,B,q=E||this.elementContext,z=this.layout.points,x=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var m=this.dygraph_.getOption("plotter"),A=m;Dygraph.isArrayLike(A)||(A=[A]);var C={};for(H=0;H<x.length;H++){B=x[H];var w=this.dygraph_.getOption("plotter",B);w!=m&&(C[B]=w)}for(H=0;H<A.length;H++){for(var D=A[H],F=H==A.length-1,j=0;j<z.length;j++){if(B=x[j],!k||B==k){var G=z[j],b=D;if(B in C){if(!F){continue}b=C[B]}var I=this.colors[B],f=this.dygraph_.getOption("strokeWidth",B);q.save(),q.strokeStyle=I,q.lineWidth=f,b({points:G,setName:B,drawingContext:q,color:I,strokeWidth:f,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(B),plotArea:this.area,seriesIndex:j,seriesCount:z.length,singleSeriesName:k,allSeriesPoints:z}),q.restore()}}}},a._Plotters={linePlotter:function(b){a._linePlotter(b)},fillPlotter:function(b){a._fillPlotter(b)},errorPlotter:function(b){a._errorPlotter(b)}},a._linePlotter=function(k){var m=k.dygraph,g=k.setName,b=k.strokeWidth,d=m.getNumericOption("strokeBorderWidth",g),c=m.getOption("drawPointCallback",g)||Dygraph.Circles.DEFAULT,p=m.getOption("strokePattern",g),f=m.getBooleanOption("drawPoints",g),j=m.getNumericOption("pointSize",g);d&&b&&a._drawStyledLine(k,m.getOption("strokeBorderColor",g),b+2*d,p,f,c,j),a._drawStyledLine(k,k.color,b,p,f,c,j)},a._errorPlotter=function(G){var J=G.dygraph,C=G.setName,t=J.getBooleanOption("errorBars")||J.getBooleanOption("customBars");if(t){var A=J.getBooleanOption("fillGraph",C);A&&console.warn("Can't use fillGraph option with error bars");var z,q=G.drawingContext,B=G.color,D=J.getNumericOption("fillAlpha",C),w=J.getBooleanOption("stepPlot",C),E=G.points,H=Dygraph.createIterator(E,0,E.length,a._getIteratorPredicate(J.getBooleanOption("connectSeparatedPoints",C))),m=0/0,I=0/0,b=[-1,-1],K=Dygraph.toRGB_(B),k="rgba("+K.r+","+K.g+","+K.b+","+D+")";q.fillStyle=k,q.beginPath();for(var F=function(c){return null===c||void 0===c||isNaN(c)};H.hasNext;){var j=H.next();!w&&F(j.y)||w&&!isNaN(I)&&F(I)?m=0/0:(z=[j.y_bottom,j.y_top],w&&(I=j.y),isNaN(z[0])&&(z[0]=j.y),isNaN(z[1])&&(z[1]=j.y),z[0]=G.plotArea.h*z[0]+G.plotArea.y,z[1]=G.plotArea.h*z[1]+G.plotArea.y,isNaN(m)||(w?(q.moveTo(m,b[0]),q.lineTo(j.canvasx,b[0]),q.lineTo(j.canvasx,b[1])):(q.moveTo(m,b[0]),q.lineTo(j.canvasx,z[0]),q.lineTo(j.canvasx,z[1])),q.lineTo(m,b[1]),q.closePath()),b=z,m=j.canvasx)}q.fill()}},a._fastCanvasProxy=function(p){var k=[],m=null,g=null,b=1,d=2,c=0,q=function(z){if(!(k.length<=1)){for(var y=k.length-1;y>0;y--){var u=k[y];if(u[0]==d){var n=k[y-1];n[1]==u[1]&&n[2]==u[2]&&k.splice(y,1)}}for(var y=0;y<k.length-1;){var u=k[y];u[0]==d&&k[y+1][0]==d?k.splice(y,1):y++}if(k.length>2&&!z){var A=0;k[0][0]==d&&A++;for(var r=null,v=null,y=A;y<k.length;y++){var u=k[y];if(u[0]==b){if(null===r&&null===v){r=y,v=y}else{var e=u[2];e<k[r][2]?r=y:e>k[v][2]&&(v=y)}}}var w=k[r],x=k[v];k.splice(A,k.length-A),v>r?(k.push(w),k.push(x)):r>v?(k.push(x),k.push(w)):k.push(w)}}},f=function(i){q(i);for(var e=0,n=k.length;n>e;e++){var o=k[e];o[0]==b?p.lineTo(o[1],o[2]):o[0]==d&&p.moveTo(o[1],o[2])}k.length&&(g=k[k.length-1][1]),c+=k.length,k=[]},j=function(e,u,x){var w=Math.round(u);if(null===m||w!=m){var l=m-g>1,i=w-m>1,v=l||i;f(v),m=w}k.push([e,u,x])};return{moveTo:function(h,i){j(d,h,i)},lineTo:function(h,i){j(b,h,i)},stroke:function(){f(!0),p.stroke()},fill:function(){f(!0),p.fill()},beginPath:function(){f(!0),p.beginPath()},closePath:function(){f(!0),p.closePath()},_count:function(){return c}}},a._fillPlotter=function(ak){if(!ak.singleSeriesName&&0===ak.seriesIndex){for(var ao=ak.dygraph,ag=ao.getLabels().slice(1),Z=ag.length;Z>=0;Z--){ao.visibility()[Z]||ag.splice(Z,1)}var ad=function(){for(var b=0;b<ag.length;b++){if(ao.getBooleanOption("fillGraph",ag[b])){return !0}}return !1}();if(ad){for(var ac,X,af=ak.plotArea,ah=ak.allSeriesPoints,ab=ah.length,ai=ao.getNumericOption("fillAlpha"),al=ao.getBooleanOption("stackedGraph"),U=ao.getColors(),am={},H=function(d,g,b,c){if(d.lineTo(g,b),al){for(var f=c.length-1;f>=0;f--){var h=c[f];d.lineTo(h[0],h[1])}}},ap=ab-1;ap>=0;ap--){var K=ak.drawingContext,aj=ag[ap];if(ao.getBooleanOption("fillGraph",aj)){var I=ao.getBooleanOption("stepPlot",aj),ae=U[ap],W=ao.axisPropertiesForSeries(aj),J=1+W.minyval*W.yscale;0>J?J=0:J>1&&(J=1),J=af.h*J+af.y;var aa,an=ah[ap],j=Dygraph.createIterator(an,0,an.length,a._getIteratorPredicate(ao.getBooleanOption("connectSeparatedPoints",aj))),V=0/0,Y=[-1,-1],G=Dygraph.toRGB_(ae),t="rgba("+G.r+","+G.g+","+G.b+","+ai+")";K.fillStyle=t,K.beginPath();var k,z=!0;(an.length>2*ao.width_||Dygraph.FORCE_FAST_PROXY)&&(K=a._fastCanvasProxy(K));for(var B,q=[];j.hasNext;){if(B=j.next(),Dygraph.isOK(B.y)||I){if(al){if(!z&&k==B.xval){continue}z=!1,k=B.xval,ac=am[B.canvasx];var N;N=void 0===ac?J:X?ac[0]:ac,aa=[B.canvasy,N],I?-1===Y[0]?am[B.canvasx]=[B.canvasy,J]:am[B.canvasx]=[B.canvasy,Y[0]]:am[B.canvasx]=B.canvasy}else{aa=isNaN(B.canvasy)&&I?[af.y+af.h,J]:[B.canvasy,J]}isNaN(V)?(K.moveTo(B.canvasx,aa[1]),K.lineTo(B.canvasx,aa[0])):(I?(K.lineTo(B.canvasx,Y[0]),K.lineTo(B.canvasx,aa[0])):K.lineTo(B.canvasx,aa[0]),al&&(q.push([V,Y[1]]),q.push(X&&ac?[B.canvasx,ac[1]]:[B.canvasx,aa[1]]))),Y=aa,V=B.canvasx}else{H(K,V,Y[1],q),q=[],V=0/0,null===B.y_stacked||isNaN(B.y_stacked)||(am[B.canvasx]=af.h*B.y_stacked+af.y)}}X=I,aa&&B&&(H(K,B.canvasx,aa[1],q),q=[]),K.fill()}}}}},a}(),Dygraph=function(){var a=function(d,f,b,c){this.is_initial_draw_=!0,this.readyFns_=[],void 0!==c?(console.warn("Using deprecated four-argument dygraph constructor"),this.__old_init__(d,f,b,c)):this.__init__(d,f,b)};return a.NAME="Dygraph",a.VERSION="1.1.1",a.__repr__=function(){return"["+a.NAME+" "+a.VERSION+"]"},a.toString=function(){return a.__repr__()},a.DEFAULT_ROLL_PERIOD=1,a.DEFAULT_WIDTH=480,a.DEFAULT_HEIGHT=320,a.ANIMATION_STEPS=12,a.ANIMATION_DURATION=200,a.KMB_LABELS=["K","M","B","T","Q"],a.KMG2_BIG_LABELS=["k","M","G","T","P","E","Z","Y"],a.KMG2_SMALL_LABELS=["m","u","n","p","f","a","z","y"],a.numberValueFormatter=function(w,B){var q=B("sigFigs");if(null!==q){return a.floatFormat(w,q)}var b,k=B("digitsAfterDecimal"),j=B("maxNumberWidth"),D=B("labelsKMB"),m=B("labelsKMG2");if(b=0!==w&&(Math.abs(w)>=Math.pow(10,j)||Math.abs(w)<Math.pow(10,-k))?w.toExponential(k):""+a.round_(w,k),D||m){var t,f=[],v=[];D&&(t=1000,f=a.KMB_LABELS),m&&(D&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),t=1024,f=a.KMG2_BIG_LABELS,v=a.KMG2_SMALL_LABELS);for(var x=Math.abs(w),C=a.pow(t,f.length),z=f.length-1;z>=0;z--,C/=t){if(x>=C){b=a.round_(w/C,k)+f[z];break}}if(m){var A=String(w.toExponential()).split("e-");2===A.length&&A[1]>=3&&A[1]<=24&&(b=A[1]%3>0?a.round_(A[0]/a.pow(10,A[1]%3),k):Number(A[0]).toFixed(2),b+=v[Math.floor(A[1]/3)-1])}}return b},a.numberAxisLabelFormatter=function(d,b,c){return a.numberValueFormatter.call(this,d,c)},a.SHORT_MONTH_NAMES_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.dateAxisLabelFormatter=function(v,x,m){var b=m("labelsUTC"),j=b?a.DateAccessorsUTC:a.DateAccessorsLocal,f=j.getFullYear(v),z=j.getMonth(v),k=j.getDate(v),q=j.getHours(v),c=j.getMinutes(v),t=j.getSeconds(v),w=j.getSeconds(v);if(x>=a.DECADAL){return""+f}if(x>=a.MONTHLY){return a.SHORT_MONTH_NAMES_[z]+"&#160;"+f}var y=3600*q+60*c+t+0.001*w;return 0===y||x>=a.DAILY?a.zeropad(k)+"&#160;"+a.SHORT_MONTH_NAMES_[z]:a.hmsString_(q,c,t)},a.dateAxisFormatter=a.dateAxisLabelFormatter,a.dateValueFormatter=function(c,b){return a.dateString_(c,b("labelsUTC"))},a.Plotters=DygraphCanvasRenderer._Plotters,a.DEFAULT_ATTRS={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:0.5,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:a.dateParser,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:0.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,avoidMinZero:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,drawXAxis:!0,drawYAxis:!0,axisLineColor:"black",axisLineWidth:0.3,gridLineWidth:0.3,axisLabelColor:"black",axisLabelWidth:50,drawYGrid:!0,drawXGrid:!0,gridLineColor:"rgb(128,128,128)",interactionModel:null,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillColor:"#A7B1C4",showInRangeSelector:null,plotter:[a.Plotters.fillPlotter,a.Plotters.errorPlotter,a.Plotters.linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:a.dateAxisLabelFormatter,valueFormatter:a.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:null},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:a.numberValueFormatter,axisLabelFormatter:a.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:null},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:a.numberValueFormatter,axisLabelFormatter:a.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:null}}},a.HORIZONTAL=1,a.VERTICAL=2,a.PLUGINS=[],a.addedAnnotationCSS=!1,a.prototype.__old_init__=function(f,b,c,d){if(null!==c){for(var h=["Date"],g=0;g<c.length;g++){h.push(c[g])}a.update(d,{labels:h})}this.__init__(f,b,d)},a.prototype.__init__=function(w,z,q){if(/MSIE/.test(navigator.userAgent)&&!window.opera&&"undefined"!=typeof G_vmlCanvasManager&&"complete"!=document.readyState){var b=this;return void setTimeout(function(){b.__init__(w,z,q)},100)}if((null===q||void 0===q)&&(q={}),q=a.mapLegacyOptions_(q),"string"==typeof w&&(w=document.getElementById(w)),!w){return void console.error("Constructing dygraph with a non-existent div!")}this.isUsingExcanvas_="undefined"!=typeof G_vmlCanvasManager,this.maindiv_=w,this.file_=z,this.rollPeriod_=q.rollPeriod||a.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=q.fractions||!1,this.dateWindow_=q.dateWindow||null,this.annotations_=[],this.zoomed_x_=!1,this.zoomed_y_=!1,w.innerHTML="",""===w.style.width&&q.width&&(w.style.width=q.width+"px"),""===w.style.height&&q.height&&(w.style.height=q.height+"px"),""===w.style.height&&0===w.clientHeight&&(w.style.height=a.DEFAULT_HEIGHT+"px",""===w.style.width&&(w.style.width=a.DEFAULT_WIDTH+"px")),this.width_=w.clientWidth||q.width||0,this.height_=w.clientHeight||q.height||0,q.stackedGraph&&(q.fillGraph=!0),this.user_attrs_={},a.update(this.user_attrs_,q),this.attrs_={},a.updateDeep(this.attrs_,a.DEFAULT_ATTRS),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new DygraphOptions(this),this.createInterface_(),this.plugins_=[];for(var k=a.PLUGINS.concat(this.getOption("plugins")),j=0;j<k.length;j++){var B,m=k[j];B="undefined"!=typeof m.activate?m:new m;var t={plugin:B,events:{},options:{},pluginOptions:{}},f=B.activate(this);for(var v in f){f.hasOwnProperty(v)&&(t.events[v]=f[v])}this.plugins_.push(t)}for(var j=0;j<this.plugins_.length;j++){var x=this.plugins_[j];for(var v in x.events){if(x.events.hasOwnProperty(v)){var A=x.events[v],y=[x.plugin,A];v in this.eventListeners_?this.eventListeners_[v].push(y):this.eventListeners_[v]=[y]}}}this.createDragInterface_(),this.start_()},a.prototype.cascadeEvents_=function(g,b){if(!(g in this.eventListeners_)){return !1}var c={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!c.cancelable){throw"Cannot call preventDefault on non-cancelable event."}c.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){c.propagationStopped=!0}};a.update(c,b);var f=this.eventListeners_[g];if(f){for(var j=f.length-1;j>=0;j--){var h=f[j][0],d=f[j][1];if(d.call(h,c),c.propagationStopped){break}}}return c.defaultPrevented},a.prototype.getPluginInstance_=function(c){for(var d=0;d<this.plugins_.length;d++){var b=this.plugins_[d];if(b.plugin instanceof c){return b.plugin}}return null},a.prototype.isZoomed=function(b){if(null===b||void 0===b){return this.zoomed_x_||this.zoomed_y_}if("x"===b){return this.zoomed_x_}if("y"===b){return this.zoomed_y_}throw"axis parameter is ["+b+"] must be null, 'x' or 'y'."},a.prototype.toString=function(){var b=this.maindiv_,c=b&&b.id?b.id:b;return"[Dygraph "+c+"]"},a.prototype.attr_=function(b,c){return c?this.attributes_.getForSeries(b,c):this.attributes_.get(b)},a.prototype.getOption=function(b,c){return this.attr_(b,c)},a.prototype.getNumericOption=function(b,c){return this.getOption(b,c)},a.prototype.getStringOption=function(b,c){return this.getOption(b,c)},a.prototype.getBooleanOption=function(b,c){return this.getOption(b,c)},a.prototype.getFunctionOption=function(b,c){return this.getOption(b,c)},a.prototype.getOptionForAxis=function(b,c){return this.attributes_.getForAxis(b,c)},a.prototype.optionsViewForAxis_=function(b){var c=this;return function(d){var e=c.user_attrs_.axes;return e&&e[b]&&e[b].hasOwnProperty(d)?e[b][d]:"x"===b&&"logscale"===d?!1:"undefined"!=typeof c.user_attrs_[d]?c.user_attrs_[d]:(e=c.attrs_.axes,e&&e[b]&&e[b].hasOwnProperty(d)?e[b][d]:"y"==b&&c.axes_[0].hasOwnProperty(d)?c.axes_[0][d]:"y2"==b&&c.axes_[1].hasOwnProperty(d)?c.axes_[1][d]:c.attr_(d))}},a.prototype.rollPeriod=function(){return this.rollPeriod_},a.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},a.prototype.xAxisExtremes=function(){var d=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows()){return[0-d,1+d]}var f=this.rawData_[0][0],b=this.rawData_[this.rawData_.length-1][0];if(d){var c=b-f;f-=c*d,b+=c*d}return[f,b]},a.prototype.yAxisRange=function(b){if("undefined"==typeof b&&(b=0),0>b||b>=this.axes_.length){return null}var c=this.axes_[b];return[c.computedValueRange[0],c.computedValueRange[1]]},a.prototype.yAxisRanges=function(){for(var b=[],c=0;c<this.axes_.length;c++){b.push(this.yAxisRange(c))}return b},a.prototype.toDomCoords=function(c,d,b){return[this.toDomXCoord(c),this.toDomYCoord(d,b)]},a.prototype.toDomXCoord=function(c){if(null===c){return null}var d=this.plotter_.area,b=this.xAxisRange();return d.x+(c-b[0])/(b[1]-b[0])*d.w},a.prototype.toDomYCoord=function(d,f){var b=this.toPercentYCoord(d,f);if(null===b){return null}var c=this.plotter_.area;return c.y+b*c.h},a.prototype.toDataCoords=function(c,d,b){return[this.toDataXCoord(c),this.toDataYCoord(d,b)]},a.prototype.toDataXCoord=function(h){if(null===h){return null}var c=this.plotter_.area,d=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var g=(h-c.x)/c.w,k=a.log10(d[0]),j=a.log10(d[1]),f=k+g*(j-k),b=Math.pow(a.LOG_SCALE,f);return b}return d[0]+(h-c.x)/c.w*(d[1]-d[0])},a.prototype.toDataYCoord=function(k,m){if(null===k){return null}var g=this.plotter_.area,b=this.yAxisRange(m);if("undefined"==typeof m&&(m=0),this.attributes_.getForAxis("logscale",m)){var d=(k-g.y)/g.h,c=a.log10(b[0]),p=a.log10(b[1]),f=p-d*(p-c),j=Math.pow(a.LOG_SCALE,f);return j}return b[0]+(g.y+g.h-k)/g.h*(b[1]-b[0])},a.prototype.toPercentYCoord=function(g,b){if(null===g){return null}"undefined"==typeof b&&(b=0);var c,f=this.yAxisRange(b),j=this.attributes_.getForAxis("logscale",b);if(j){var h=a.log10(f[0]),d=a.log10(f[1]);c=(d-a.log10(g))/(d-h)}else{c=(f[1]-g)/(f[1]-f[0])}return c},a.prototype.toPercentXCoord=function(f){if(null===f){return null}var b,c=this.xAxisRange(),d=this.attributes_.getForAxis("logscale","x");if(d===!0){var h=a.log10(c[0]),g=a.log10(c[1]);b=(a.log10(f)-h)/(g-h)}else{b=(f-c[0])/(c[1]-c[0])}return b},a.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},a.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},a.prototype.getValue=function(b,c){return 0>b||b>this.rawData_.length?null:0>c||c>this.rawData_[b].length?null:this.rawData_[b][c]},a.prototype.createInterface_=function(){var c=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",c.appendChild(this.graphDiv),this.canvas_=a.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=a.getContext(this.canvas_),this.hidden_ctx_=a.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new DygraphLayout(this);var b=this;this.mouseMoveHandler_=function(d){b.mouseMove_(d)},this.mouseOutHandler_=function(g){var d=g.target||g.fromElement,f=g.relatedTarget||g.toElement;a.isNodeContainedBy(d,b.graphDiv)&&!a.isNodeContainedBy(f,b.graphDiv)&&b.mouseOut_(g)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(d){b.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},a.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var c=a.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*c,this.canvas_.height=this.height_*c,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==c&&this.canvas_ctx_.scale(c,c);var b=a.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*b,this.hidden_.height=this.height_*b,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==b&&this.hidden_ctx_.scale(b,b)},a.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var f=this.plugins_.length-1;f>=0;f--){var b=this.plugins_.pop();b.plugin.destroy&&b.plugin.destroy()}var c=function(e){for(;e.hasChildNodes();){c(e.firstChild),e.removeChild(e.firstChild)}};this.removeTrackedEvents_(),a.removeEvent(window,"mouseout",this.mouseOutHandler_),a.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),a.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,c(this.maindiv_);var d=function(g){for(var h in g){"object"==typeof g[h]&&(g[h]=null)}};d(this.layout_),d(this.plotter_),d(this)},a.prototype.createPlotKitCanvas_=function(c){var b=a.createCanvas();return b.style.position="absolute",b.style.top=c.style.top,b.style.left=c.style.left,b.width=this.width_,b.height=this.height_,b.style.width=this.width_+"px",b.style.height=this.height_+"px",b},a.prototype.createMouseEventElement_=function(){if(this.isUsingExcanvas_){var b=document.createElement("div");return b.style.position="absolute",b.style.backgroundColor="white",b.style.filter="alpha(opacity=0)",b.style.width=this.width_+"px",b.style.height=this.height_+"px",this.graphDiv.appendChild(b),b}return this.canvas_},a.prototype.setColors_=function(){var u=this.getLabels(),w=u.length-1;this.colors_=[],this.colorsMap_={};for(var m=this.getNumericOption("colorSaturation")||1,b=this.getNumericOption("colorValue")||0.5,j=Math.ceil(w/2),f=this.getOption("colors"),x=this.visibility(),k=0;w>k;k++){if(x[k]){var q=u[k+1],c=this.attributes_.getForSeries("color",q);if(!c){if(f){c=f[k%f.length]}else{var t=k%2?j+(k+1)/2:Math.ceil((k+1)/2),v=1*t/(1+w);c=a.hsvToRGB(v,m,b)}}this.colors_.push(c),this.colorsMap_[q]=c}}},a.prototype.getColors=function(){return this.colors_},a.prototype.getPropertiesForSeries=function(d){for(var f=-1,b=this.getLabels(),c=1;c<b.length;c++){if(b[c]==d){f=c;break}}return -1==f?null:{name:d,column:f,visible:this.visibility()[f-1],color:this.colorsMap_[d],axis:1+this.attributes_.axisForSeries(d)}},a.prototype.createRollInterface_=function(){this.roller_||(this.roller_=document.createElement("input"),this.roller_.type="text",this.roller_.style.display="none",this.graphDiv.appendChild(this.roller_));var d=this.getBooleanOption("showRoller")?"block":"none",g=this.plotter_.area,b={position:"absolute",top:g.y+g.h-25+"px",left:g.x+1+"px",display:d};this.roller_.size="2",this.roller_.value=this.rollPeriod_;for(var c in b){b.hasOwnProperty(c)&&(this.roller_.style[c]=b[c])}var f=this;this.roller_.onchange=function(){f.adjustRoll(f.roller_.value)}},a.prototype.createDragInterface_=function(){var f={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new a.IFrameTarp,initializeMouseDown:function(m,j,k){m.preventDefault?m.preventDefault():(m.returnValue=!1,m.cancelBubble=!0);var l=a.findPos(j.canvas_);k.px=l.x,k.py=l.y,k.dragStartX=a.dragGetX_(m,k),k.dragStartY=a.dragGetY_(m,k),k.cancelNextDblclick=!1,k.tarp.cover()},destroy:function(){var i=this;if((i.isZooming||i.isPanning)&&(i.isZooming=!1,i.dragStartX=null,i.dragStartY=null),i.isPanning){i.isPanning=!1,i.draggingDate=null,i.dateRange=null;for(var j=0;j<c.axes_.length;j++){delete c.axes_[j].draggingValue,delete c.axes_[j].dragValueRange}}i.tarp.uncover()}},b=this.getOption("interactionModel"),c=this,d=function(e){return function(i){e(i,c,f)}};for(var h in b){b.hasOwnProperty(h)&&this.addAndTrackEvent(this.mouseEventElement_,h,d(b[h]))}if(!b.willDestroyContextMyself){var g=function(e){f.destroy()};this.addAndTrackEvent(document,"mouseup",g)}},a.prototype.drawZoomRect_=function(k,m,g,b,d,c,p,f){var j=this.canvas_ctx_;c==a.HORIZONTAL?j.clearRect(Math.min(m,p),this.layout_.getPlotArea().y,Math.abs(m-p),this.layout_.getPlotArea().h):c==a.VERTICAL&&j.clearRect(this.layout_.getPlotArea().x,Math.min(b,f),this.layout_.getPlotArea().w,Math.abs(b-f)),k==a.HORIZONTAL?g&&m&&(j.fillStyle="rgba(128,128,128,0.33)",j.fillRect(Math.min(m,g),this.layout_.getPlotArea().y,Math.abs(g-m),this.layout_.getPlotArea().h)):k==a.VERTICAL&&d&&b&&(j.fillStyle="rgba(128,128,128,0.33)",j.fillRect(this.layout_.getPlotArea().x,Math.min(b,d),this.layout_.getPlotArea().w,Math.abs(d-b))),this.isUsingExcanvas_&&(this.currentZoomRectArgs_=[k,m,g,b,d,0,0,0])},a.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},a.prototype.doZoomX_=function(d,f){this.currentZoomRectArgs_=null;var b=this.toDataXCoord(d),c=this.toDataXCoord(f);this.doZoomXDates_(b,c)},a.prototype.doZoomXDates_=function(d,g){var b=this.xAxisRange(),c=[d,g];this.zoomed_x_=!0;var f=this;this.doAnimatedZoom(b,c,null,null,function(){f.getFunctionOption("zoomCallback")&&f.getFunctionOption("zoomCallback").call(f,d,g,f.yAxisRanges())})},a.prototype.doZoomY_=function(d,h){this.currentZoomRectArgs_=null;for(var b=this.yAxisRanges(),c=[],g=0;g<this.axes_.length;g++){var k=this.toDataYCoord(d,g),j=this.toDataYCoord(h,g);c.push([j,k])}this.zoomed_y_=!0;var f=this;this.doAnimatedZoom(null,null,b,c,function(){if(f.getFunctionOption("zoomCallback")){var e=f.xAxisRange();f.getFunctionOption("zoomCallback").call(f,e[0],e[1],f.yAxisRanges())}})},a.zoomAnimationFunction=function(c,d){var b=1.5;return(1-Math.pow(b,-c))/(1-Math.pow(b,-d))},a.prototype.resetZoom=function(){var A=!1,w=!1,y=!1;null!==this.dateWindow_&&(A=!0,w=!0);for(var m=0;m<this.axes_.length;m++){"undefined"!=typeof this.axes_[m].valueWindow&&null!==this.axes_[m].valueWindow&&(A=!0,y=!0)}if(this.clearSelection(),A){this.zoomed_x_=!1,this.zoomed_y_=!1;var b=this.rawData_[0][0],j=this.rawData_[this.rawData_.length-1][0];if(!this.getBooleanOption("animatedZooms")){for(this.dateWindow_=null,m=0;m<this.axes_.length;m++){null!==this.axes_[m].valueWindow&&delete this.axes_[m].valueWindow}return this.drawGraph_(),void (this.getFunctionOption("zoomCallback")&&this.getFunctionOption("zoomCallback").call(this,b,j,this.yAxisRanges()))}var f=null,B=null,k=null,q=null;if(w&&(f=this.xAxisRange(),B=[b,j]),y){k=this.yAxisRanges();var c=this.gatherDatasets_(this.rolledSeries_,null),v=c.extremes;for(this.computeYAxisRanges_(v),q=[],m=0;m<this.axes_.length;m++){var x=this.axes_[m];q.push(null!==x.valueRange&&void 0!==x.valueRange?x.valueRange:x.extremeRange)}}var z=this;this.doAnimatedZoom(f,B,k,q,function(){z.dateWindow_=null;for(var d=0;d<z.axes_.length;d++){null!==z.axes_[d].valueWindow&&delete z.axes_[d].valueWindow}z.getFunctionOption("zoomCallback")&&z.getFunctionOption("zoomCallback").call(z,b,j,z.yAxisRanges())})}},a.prototype.doAnimatedZoom=function(v,x,m,b,j){var f,z,k=this.getBooleanOption("animatedZooms")?a.ANIMATION_STEPS:1,q=[],c=[];if(null!==v&&null!==x){for(f=1;k>=f;f++){z=a.zoomAnimationFunction(f,k),q[f-1]=[v[0]*(1-z)+z*x[0],v[1]*(1-z)+z*x[1]]}}if(null!==m&&null!==b){for(f=1;k>=f;f++){z=a.zoomAnimationFunction(f,k);for(var t=[],w=0;w<this.axes_.length;w++){t.push([m[w][0]*(1-z)+z*b[w][0],m[w][1]*(1-z)+z*b[w][1]])}c[f-1]=t}}var y=this;a.repeatAndCleanup(function(g){if(c.length){for(var h=0;h<y.axes_.length;h++){var d=c[g][h];y.axes_[h].valueWindow=[d[0],d[1]]}}q.length&&(y.dateWindow_=q[g]),y.drawGraph_()},k,a.ANIMATION_DURATION/k,j)},a.prototype.getArea=function(){return this.plotter_.area},a.prototype.eventToDomCoords=function(f){if(f.offsetX&&f.offsetY){return[f.offsetX,f.offsetY]}var b=a.findPos(this.mouseEventElement_),c=a.pageX(f)-b.x,d=a.pageY(f)-b.y;return[c,d]},a.prototype.findClosestRow=function(m){for(var q=1/0,j=-1,b=this.layout_.points,f=0;f<b.length;f++){for(var d=b[f],t=d.length,g=0;t>g;g++){var k=d[g];if(a.isValidPoint(k,!0)){var c=Math.abs(k.canvasx-m);q>c&&(q=c,j=k.idx)}}}return j},a.prototype.findClosestPoint=function(w,z){for(var q,b,k,j,B,m,t,f=1/0,v=this.layout_.points.length-1;v>=0;--v){for(var x=this.layout_.points[v],A=0;A<x.length;++A){j=x[A],a.isValidPoint(j)&&(b=j.canvasx-w,k=j.canvasy-z,q=b*b+k*k,f>q&&(f=q,B=j,m=v,t=j.idx))}}var y=this.layout_.setNames[m];return{row:t,seriesName:y,point:B}},a.prototype.findStackedPoint=function(w,B){for(var q,b,k=this.findClosestRow(w),j=0;j<this.layout_.points.length;++j){var E=this.getLeftBoundary_(j),m=k-E,t=this.layout_.points[j];if(!(m>=t.length)){var f=t[m];if(a.isValidPoint(f)){var v=f.canvasy;if(w>f.canvasx&&m+1<t.length){var x=t[m+1];if(a.isValidPoint(x)){var D=x.canvasx-f.canvasx;if(D>0){var z=(w-f.canvasx)/D;v+=z*(x.canvasy-f.canvasy)}}}else{if(w<f.canvasx&&m>0){var A=t[m-1];if(a.isValidPoint(A)){var D=f.canvasx-A.canvasx;if(D>0){var z=(f.canvasx-w)/D;v+=z*(A.canvasy-f.canvasy)}}}}(0===j||B>v)&&(q=f,b=j)}}}var C=this.layout_.setNames[b];return{row:k,seriesName:C,point:q}},a.prototype.mouseMove_=function(p){var k=this.layout_.points;if(void 0!==k&&null!==k){var m=this.eventToDomCoords(p),g=m[0],b=m[1],d=this.getOption("highlightSeriesOpts"),c=!1;if(d&&!this.isSeriesLocked()){var q;q=this.getBooleanOption("stackedGraph")?this.findStackedPoint(g,b):this.findClosestPoint(g,b),c=this.setSelection(q.row,q.seriesName)}else{var f=this.findClosestRow(g);c=this.setSelection(f)}var j=this.getFunctionOption("highlightCallback");j&&c&&j.call(this,p,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},a.prototype.getLeftBoundary_=function(b){if(this.boundaryIds_[b]){return this.boundaryIds_[b][0]}for(var c=0;c<this.boundaryIds_.length;c++){if(void 0!==this.boundaryIds_[c]){return this.boundaryIds_[c][0]}}return 0},a.prototype.animateSelection_=function(g){var b=10,c=30;void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var f=this.fadeLevel,j=0>g?f:b-f;if(0>=j){return void (this.fadeLevel&&this.updateSelection_(1))}var h=++this.animateId,d=this;a.repeatAndCleanup(function(e){d.animateId==h&&(d.fadeLevel+=g,0===d.fadeLevel?d.clearSelection():d.updateSelection_(d.fadeLevel/b))},j,c,function(){})},a.prototype.updateSelection_=function(w){this.cascadeEvents_("select",{selectedRow:this.lastRow_,selectedX:this.lastx_,selectedPoints:this.selPoints_});var z,q=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){q.clearRect(0,0,this.width_,this.height_);var b=1-this.getNumericOption("highlightSeriesBackgroundAlpha");if(b){var k=!0;if(k){if(void 0===w){return void this.animateSelection_(1)}b*=w}q.fillStyle="rgba(255,255,255,"+b+")",q.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,q)}else{if(this.previousVerticalX_>=0){var j=0,B=this.attr_("labels");for(z=1;z<B.length;z++){var m=this.getNumericOption("highlightCircleSize",B[z]);m>j&&(j=m)}var t=this.previousVerticalX_;q.clearRect(t-j-1,0,2*j+2,this.height_)}}if(this.isUsingExcanvas_&&this.currentZoomRectArgs_&&a.prototype.drawZoomRect_.apply(this,this.currentZoomRectArgs_),this.selPoints_.length>0){var f=this.selPoints_[0].canvasx;for(q.save(),z=0;z<this.selPoints_.length;z++){var v=this.selPoints_[z];if(a.isOK(v.canvasy)){var x=this.getNumericOption("highlightCircleSize",v.name),A=this.getFunctionOption("drawHighlightPointCallback",v.name),y=this.plotter_.colors[v.name];A||(A=a.Circles.DEFAULT),q.lineWidth=this.getNumericOption("strokeWidth",v.name),q.strokeStyle=y,q.fillStyle=y,A.call(this,this,v.name,q,f,v.canvasy,y,x,v.idx)}}q.restore(),this.previousVerticalX_=f}},a.prototype.setSelection=function(k,h,j){this.selPoints_=[];var g=!1;if(k!==!1&&k>=0){k!=this.lastRow_&&(g=!0),this.lastRow_=k;for(var b=0;b<this.layout_.points.length;++b){var d=this.layout_.points[b],c=k-this.getLeftBoundary_(b);if(c<d.length&&d[c].idx==k){var m=d[c];null!==m.yval&&this.selPoints_.push(m)}else{for(var f=0;f<d.length;++f){var m=d[f];if(m.idx==k){null!==m.yval&&this.selPoints_.push(m);break}}}}}else{this.lastRow_>=0&&(g=!0),this.lastRow_=-1}return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==h&&(this.highlightSet_!==h&&(g=!0),this.highlightSet_=h),void 0!==j&&(this.lockedSet_=j),g&&this.updateSelection_(void 0),g},a.prototype.mouseOut_=function(b){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,b),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},a.prototype.clearSelection=function(){return this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?void this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,void (this.highlightSet_=null))},a.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1){return -1}for(var c=0;c<this.layout_.points.length;c++){for(var d=this.layout_.points[c],b=0;b<d.length;b++){if(d[b].x==this.selPoints_[0].x){return d[b].idx}}}return -1},a.prototype.getHighlightSeries=function(){return this.highlightSet_},a.prototype.isSeriesLocked=function(){return this.lockedSet_},a.prototype.loadedEvent_=function(b){this.rawData_=this.parseCSV_(b),this.cascadeDataDidUpdateEvent_(),this.predraw_()},a.prototype.addXTicks_=function(){var c;c=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var d=this.optionsViewForAxis_("x"),b=d("ticker")(c[0],c[1],this.plotter_.area.w,d,this);this.layout_.setXTicks(b)},a.prototype.getHandlerClass_=function(){var b;return b=this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?a.DataHandlers.FractionsBarsHandler:a.DataHandlers.DefaultFractionHandler:this.getBooleanOption("customBars")?a.DataHandlers.CustomBarsHandler:this.getBooleanOption("errorBars")?a.DataHandlers.ErrorBarsHandler:a.DataHandlers.DefaultHandler},a.prototype.predraw_=function(){var d=new Date;this.dataHandler_=new (this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new DygraphCanvasRenderer(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var f=1;f<this.numColumns();f++){var b=this.dataHandler_.extractSeries(this.rawData_,f,this.attributes_);this.rollPeriod_>1&&(b=this.dataHandler_.rollingAverage(b,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(b)}this.drawGraph_();var c=new Date;this.drawingTimeMs_=c-d},a.PointType=void 0,a.stackPoints_=function(A,w,y,m){for(var b=null,j=null,f=null,B=-1,k=function(g){if(!(B>=g)){for(var d=g;d<A.length;++d){if(f=null,!isNaN(A[d].yval)&&null!==A[d].yval){B=d,f=A[d];break}}}},q=0;q<A.length;++q){var c=A[q],v=c.xval;void 0===w[v]&&(w[v]=0);var x=c.yval;isNaN(x)||null===x?"none"==m?x=0:(k(q),x=j&&f&&"none"!=m?j.yval+(f.yval-j.yval)*((v-j.xval)/(f.xval-j.xval)):j&&"all"==m?j.yval:f&&"all"==m?f.yval:0):j=c;var z=w[v];b!=v&&(z+=x,w[v]=z),b=v,c.yval_stacked=z,z>y[1]&&(y[1]=z),z<y[0]&&(y[0]=z)}},a.prototype.gatherDatasets_=function(K,N){var G,z,C,B,w,F,H=[],A=[],I=[],L={},q=K.length-1;for(G=q;G>=1;G--){if(this.visibility()[G-1]){if(N){F=K[G];var M=N[0],b=N[1];for(C=null,B=null,z=0;z<F.length;z++){F[z][0]>=M&&null===C&&(C=z),F[z][0]<=b&&(B=z)}null===C&&(C=0);for(var O=C,k=!0;k&&O>0;){O--,k=null===F[O][1]}null===B&&(B=F.length-1);var J=B;for(k=!0;k&&J<F.length-1;){J++,k=null===F[J][1]}O!==C&&(C=O),J!==B&&(B=J),H[G-1]=[C,B],F=F.slice(C,B+1)}else{F=K[G],H[G-1]=[0,F.length-1]}var j=this.attr_("labels")[G],E=this.dataHandler_.getExtremeYValues(F,N,this.getBooleanOption("stepPlot",j)),t=this.dataHandler_.seriesToPoints(F,j,H[G-1][0]);this.getBooleanOption("stackedGraph")&&(w=this.attributes_.axisForSeries(j),void 0===I[w]&&(I[w]=[]),a.stackPoints_(t,I[w],E,this.getBooleanOption("stackedGraphNaNFill"))),L[j]=E,A[G]=t}}return{points:A,extremes:L,boundaryIds:H}},a.prototype.drawGraph_=function(){var p=new Date,k=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=0.5*this.getNumericOption("highlightCircleSize");var m=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),g=m.points,b=m.extremes;this.boundaryIds_=m.boundaryIds,this.setIndexByName_={};var d=this.attr_("labels");d.length>0&&(this.setIndexByName_[d[0]]=0);for(var c=0,q=1;q<g.length;q++){this.setIndexByName_[d[q]]=q,this.visibility()[q-1]&&(this.layout_.addDataset(d[q],g[q]),this.datasetIndex_[q]=c++)}this.computeYAxisRanges_(b),this.layout_.setYAxes(this.axes_),this.addXTicks_();var f=this.zoomed_x_;if(this.zoomed_x_=f,this.layout_.evaluate(),this.renderGraph_(k),this.getStringOption("timingName")){var j=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(j-p)+"ms")}},a.prototype.renderGraph_=function(c){this.cascadeEvents_("clearChart"),this.plotter_.clear(),this.getFunctionOption("underlayCallback")&&this.getFunctionOption("underlayCallback").call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var d={canvas:this.hidden_,drawingContext:this.hidden_ctx_};if(this.cascadeEvents_("willDrawChart",d),this.plotter_.render(),this.cascadeEvents_("didDrawChart",d),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_),null!==this.getFunctionOption("drawCallback")&&this.getFunctionOption("drawCallback").call(this,this,c),c){for(this.readyFired_=!0;this.readyFns_.length>0;){var b=this.readyFns_.pop();b(this)}}},a.prototype.computeYAxes_=function(){var g,b,c,f,j;if(void 0!==this.axes_&&this.user_attrs_.hasOwnProperty("valueRange")===!1){for(g=[],c=0;c<this.axes_.length;c++){g.push(this.axes_[c].valueWindow)}}for(this.axes_=[],b=0;b<this.attributes_.numAxes();b++){f={g:this},a.update(f,this.attributes_.axisOptions(b)),this.axes_[b]=f}if(j=this.attr_("valueRange"),j&&(this.axes_[0].valueRange=j),void 0!==g){var h=Math.min(g.length,this.axes_.length);for(c=0;h>c;c++){this.axes_[c].valueWindow=g[c]}}for(b=0;b<this.axes_.length;b++){if(0===b){f=this.optionsViewForAxis_("y"+(b?"2":"")),j=f("valueRange"),j&&(this.axes_[b].valueRange=j)}else{var d=this.user_attrs_.axes;d&&d.y2&&(j=d.y2.valueRange,j&&(this.axes_[b].valueRange=j))}}},a.prototype.numAxes=function(){return this.attributes_.numAxes()},a.prototype.axisPropertiesForSeries=function(b){return this.axes_[this.attributes_.axisForSeries(b)]},a.prototype.computeYAxisRanges_=function(M){for(var ag,ak,ac,V,Z,Y=function(b){return isNaN(parseFloat(b))},R=this.attributes_.numAxes(),ab=0;R>ab;ab++){var ad=this.axes_[ab],X=this.attributes_.getForAxis("logscale",ab),ae=this.attributes_.getForAxis("includeZero",ab),ah=this.attributes_.getForAxis("independentTicks",ab);if(ac=this.attributes_.seriesForAxis(ab),ag=!0,V=0.1,null!==this.getNumericOption("yRangePad")&&(ag=!1,V=this.getNumericOption("yRangePad")/this.plotter_.area.h),0===ac.length){ad.extremeRange=[0,1]}else{for(var J,ai,F=1/0,al=-(1/0),I=0;I<ac.length;I++){M.hasOwnProperty(ac[I])&&(J=M[ac[I]][0],null!==J&&(F=Math.min(J,F)),ai=M[ac[I]][1],null!==ai&&(al=Math.max(ai,al)))}ae&&!X&&(F>0&&(F=0),0>al&&(al=0)),F==1/0&&(F=0),al==-(1/0)&&(al=1),ak=al-F,0===ak&&(0!==al?ak=Math.abs(al):(al=1,ak=1));var af,G;if(X){if(ag){af=al+V*ak,G=F}else{var aa=Math.exp(Math.log(ak)*V);af=al*aa,G=F/aa}}else{af=al+V*ak,G=F-V*ak,ag&&!this.getBooleanOption("avoidMinZero")&&(0>G&&F>=0&&(G=0),af>0&&0>=al&&(af=0))}ad.extremeRange=[G,af]}if(ad.valueWindow){ad.computedValueRange=[ad.valueWindow[0],ad.valueWindow[1]]}else{if(ad.valueRange){var N=Y(ad.valueRange[0])?ad.extremeRange[0]:ad.valueRange[0],H=Y(ad.valueRange[1])?ad.extremeRange[1]:ad.valueRange[1];if(!ag){if(ad.logscale){var aa=Math.exp(Math.log(ak)*V);N*=aa,H/=aa}else{ak=H-N,N-=ak*V,H+=ak*V}}ad.computedValueRange=[N,H]}else{ad.computedValueRange=ad.extremeRange}}if(ah){ad.independentTicks=ah;var W=this.optionsViewForAxis_("y"+(ab?"2":"")),aj=W("ticker");ad.ticks=aj(ad.computedValueRange[0],ad.computedValueRange[1],this.plotter_.area.h,W,this),Z||(Z=ad)}}if(void 0===Z){throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.'}for(var ab=0;R>ab;ab++){var ad=this.axes_[ab];if(!ad.independentTicks){for(var W=this.optionsViewForAxis_("y"+(ab?"2":"")),aj=W("ticker"),j=Z.ticks,K=Z.computedValueRange[1]-Z.computedValueRange[0],U=ad.computedValueRange[1]-ad.computedValueRange[0],B=[],q=0;q<j.length;q++){var k=(j[q].v-Z.computedValueRange[0])/K,z=ad.computedValueRange[0]+k*U;B.push(z)}ad.ticks=aj(ad.computedValueRange[0],ad.computedValueRange[1],this.plotter_.area.h,W,this,B)}}},a.prototype.detectTypeFromString_=function(c){var d=!1,b=c.indexOf("-");b>0&&"e"!=c[b-1]&&"E"!=c[b-1]||c.indexOf("/")>=0||isNaN(parseFloat(c))?d=!0:8==c.length&&c>"19700101"&&"20371231">c&&(d=!0),this.setXAxisOptions_(d)},a.prototype.setXAxisOptions_=function(b){b?(this.attrs_.xValueParser=a.dateParser,this.attrs_.axes.x.valueFormatter=a.dateValueFormatter,this.attrs_.axes.x.ticker=a.dateTicker,this.attrs_.axes.x.axisLabelFormatter=a.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(c){return parseFloat(c)},this.attrs_.axes.x.valueFormatter=function(c){return c},this.attrs_.axes.x.ticker=a.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)},a.prototype.parseCSV_=function(G){var J,C,t=[],A=a.detectLineDelimiter(G),z=G.split(A||"\n"),q=this.getStringOption("delimiter");-1==z[0].indexOf(q)&&z[0].indexOf("	")>=0&&(q="	");var B=0;"labels" in this.user_attrs_||(B=1,this.attrs_.labels=z[0].split(q),this.attributes_.reparseSeries());for(var D,w=0,E=!1,H=this.attr_("labels").length,m=!1,I=B;I<z.length;I++){var b=z[I];if(w=I,0!==b.length&&"#"!=b[0]){var K=b.split(q);if(!(K.length<2)){var k=[];if(E||(this.detectTypeFromString_(K[0]),D=this.getFunctionOption("xValueParser"),E=!0),k[0]=D(K[0],this),this.fractions_){for(C=1;C<K.length;C++){J=K[C].split("/"),2!=J.length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+K[C]+"' on line "+(1+I)+" ('"+b+"') which is not of this form."),k[C]=[0,0]):k[C]=[a.parseFloat_(J[0],I,b),a.parseFloat_(J[1],I,b)]}}else{if(this.getBooleanOption("errorBars")){for(K.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+I)+" has an odd number of values ("+(K.length-1)+"): '"+b+"'"),C=1;C<K.length;C+=2){k[(C+1)/2]=[a.parseFloat_(K[C],I,b),a.parseFloat_(K[C+1],I,b)]}}else{if(this.getBooleanOption("customBars")){for(C=1;C<K.length;C++){var F=K[C];/^ *$/.test(F)?k[C]=[null,null,null]:(J=F.split(";"),3==J.length?k[C]=[a.parseFloat_(J[0],I,b),a.parseFloat_(J[1],I,b),a.parseFloat_(J[2],I,b)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+F+'" on line '+(1+I)))}}else{for(C=1;C<K.length;C++){k[C]=a.parseFloat_(K[C],I,b)}}}}if(t.length>0&&k[0]<t[t.length-1][0]&&(m=!0),k.length!=H&&console.error("Number of columns in line "+I+" ("+k.length+") does not agree with number of labels ("+H+") "+b),0===I&&this.attr_("labels")){var j=!0;for(C=0;j&&C<k.length;C++){k[C]&&(j=!1)}if(j){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+b+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(k)}}}return m&&(console.warn("CSV is out of order; order it correctly to speed loading."),t.sort(function(c,d){return c[0]-d[0]})),t},a.prototype.parseArray_=function(f){if(0===f.length){return console.error("Can't plot empty data set"),null}if(0===f[0].length){return console.error("Data set cannot contain an empty row"),null}var b;if(null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],b=1;b<f[0].length;b++){this.attrs_.labels.push("Y"+b)}this.attributes_.reparseSeries()}else{var c=this.attr_("labels");if(c.length!=f[0].length){return console.error("Mismatch between number of labels ("+c+") and number of columns in array ("+f[0].length+")"),null}}if(a.isDateLike(f[0][0])){this.attrs_.axes.x.valueFormatter=a.dateValueFormatter,this.attrs_.axes.x.ticker=a.dateTicker,this.attrs_.axes.x.axisLabelFormatter=a.dateAxisLabelFormatter;var d=a.clone(f);for(b=0;b<f.length;b++){if(0===d[b].length){return console.error("Row "+(1+b)+" of data is empty"),null}if(null===d[b][0]||"function"!=typeof d[b][0].getTime||isNaN(d[b][0].getTime())){return console.error("x value in row "+(1+b)+" is not a Date"),null}d[b][0]=d[b][0].getTime()}return d}return this.attrs_.axes.x.valueFormatter=function(e){return e},this.attrs_.axes.x.ticker=a.numericTicks,this.attrs_.axes.x.axisLabelFormatter=a.numberAxisLabelFormatter,f},a.prototype.parseDataTable_=function(I){var L=function(c){var d=String.fromCharCode(65+c%26);for(c=Math.floor(c/26);c>0;){d=String.fromCharCode(65+(c-1)%26)+d.toLowerCase(),c=Math.floor((c-1)/26)}return d},E=I.getNumberOfColumns(),w=I.getNumberOfRows(),B=I.getColumnType(0);if("date"==B||"datetime"==B){this.attrs_.xValueParser=a.dateParser,this.attrs_.axes.x.valueFormatter=a.dateValueFormatter,this.attrs_.axes.x.ticker=a.dateTicker,this.attrs_.axes.x.axisLabelFormatter=a.dateAxisLabelFormatter}else{if("number"!=B){return console.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+B+"')"),null}this.attrs_.xValueParser=function(c){return parseFloat(c)},this.attrs_.axes.x.valueFormatter=function(c){return c},this.attrs_.axes.x.ticker=a.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var A,t,D=[],F={},z=!1;for(A=1;E>A;A++){var G=I.getColumnType(A);if("number"==G){D.push(A)}else{if("string"==G&&this.getBooleanOption("displayAnnotations")){var J=D[D.length-1];F.hasOwnProperty(J)?F[J].push(A):F[J]=[A],z=!0}else{console.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}}}var q=[I.getColumnLabel(0)];for(A=0;A<D.length;A++){q.push(I.getColumnLabel(D[A])),this.getBooleanOption("errorBars")&&(A+=1)}this.attrs_.labels=q,E=q.length;var K=[],b=!1,M=[];for(A=0;w>A;A++){var k=[];if("undefined"!=typeof I.getValue(A,0)&&null!==I.getValue(A,0)){if(k.push("date"==B||"datetime"==B?I.getValue(A,0).getTime():I.getValue(A,0)),this.getBooleanOption("errorBars")){for(t=0;E-1>t;t++){k.push([I.getValue(A,1+2*t),I.getValue(A,2+2*t)])}}else{for(t=0;t<D.length;t++){var H=D[t];if(k.push(I.getValue(A,H)),z&&F.hasOwnProperty(H)&&null!==I.getValue(A,F[H][0])){var j={};j.series=I.getColumnLabel(H),j.xval=k[0],j.shortText=L(M.length),j.text="";for(var C=0;C<F[H].length;C++){C&&(j.text+="\n"),j.text+=I.getValue(A,F[H][C])}M.push(j)}}for(t=0;t<k.length;t++){isFinite(k[t])||(k[t]=null)}}K.length>0&&k[0]<K[K.length-1][0]&&(b=!0),K.push(k)}else{console.warn("Ignoring row "+A+" of DataTable because of undefined or null first column.")}}b&&(console.warn("DataTable is out of order; order it correctly to speed loading."),K.sort(function(c,d){return c[0]-d[0]})),this.rawData_=K,M.length>0&&this.setAnnotations(M,!0),this.attributes_.reparseSeries()},a.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},a.prototype.start_=function(){var f=this.file_;if("function"==typeof f&&(f=f()),a.isArrayLike(f)){this.rawData_=this.parseArray_(f),this.cascadeDataDidUpdateEvent_(),this.predraw_()}else{if("object"==typeof f&&"function"==typeof f.getColumnRange){this.parseDataTable_(f),this.cascadeDataDidUpdateEvent_(),this.predraw_()}else{if("string"==typeof f){var b=a.detectLineDelimiter(f);if(b){this.loadedEvent_(f)}else{var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var d=this;c.onreadystatechange=function(){4==c.readyState&&(200===c.status||0===c.status)&&d.loadedEvent_(c.responseText)},c.open("GET",f,!0),c.send(null)}}else{console.error("Unknown data format: "+typeof f)}}}},a.prototype.updateOptions=function(f,b){"undefined"==typeof b&&(b=!1);var c=f.file,d=a.mapLegacyOptions_(f);"rollPeriod" in d&&(this.rollPeriod_=d.rollPeriod),"dateWindow" in d&&(this.dateWindow_=d.dateWindow,"isZoomedIgnoreProgrammaticZoom" in d||(this.zoomed_x_=null!==d.dateWindow)),"valueRange" in d&&!("isZoomedIgnoreProgrammaticZoom" in d)&&(this.zoomed_y_=null!==d.valueRange);var g=a.isPixelChangingOptionList(this.attr_("labels"),d);a.updateDeep(this.user_attrs_,d),this.attributes_.reparseSeries(),c?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=c,b||this.start_()):b||(g?this.predraw_():this.renderGraph_(!1))},a.mapLegacyOptions_=function(d){var g={};for(var b in d){d.hasOwnProperty(b)&&"file"!=b&&d.hasOwnProperty(b)&&(g[b]=d[b])}var c=function(j,e,h){g.axes||(g.axes={}),g.axes[j]||(g.axes[j]={}),g.axes[j][e]=h},f=function(e,h,i){"undefined"!=typeof d[e]&&(console.warn("Option "+e+" is deprecated. Use the "+i+" option for the "+h+" axis instead. (e.g. { axes : { "+h+" : { "+i+" : ... } } } (see http://dygraphs.com/per-axis.html for more information."),c(h,i,d[e]),delete g[e])};return f("xValueFormatter","x","valueFormatter"),f("pixelsPerXLabel","x","pixelsPerLabel"),f("xAxisLabelFormatter","x","axisLabelFormatter"),f("xTicker","x","ticker"),f("yValueFormatter","y","valueFormatter"),f("pixelsPerYLabel","y","pixelsPerLabel"),f("yAxisLabelFormatter","y","axisLabelFormatter"),f("yTicker","y","ticker"),f("drawXGrid","x","drawGrid"),f("drawXAxis","x","drawAxis"),f("drawYGrid","y","drawGrid"),f("drawYAxis","y","drawAxis"),f("xAxisLabelWidth","x","axisLabelWidth"),f("yAxisLabelWidth","y","axisLabelWidth"),g},a.prototype.resize=function(d,f){if(!this.resize_lock){this.resize_lock=!0,null===d!=(null===f)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),d=f=null);var b=this.width_,c=this.height_;d?(this.maindiv_.style.width=d+"px",this.maindiv_.style.height=f+"px",this.width_=d,this.height_=f):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(b!=this.width_||c!=this.height_)&&(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},a.prototype.adjustRoll=function(b){this.rollPeriod_=b,this.predraw_()},a.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;){this.attrs_.visibility.push(!0)}return this.getOption("visibility")},a.prototype.setVisibility=function(c,d){var b=this.visibility();0>c||c>=b.length?console.warn("invalid series number in setVisibility: "+c):(b[c]=d,this.predraw_())},a.prototype.size=function(){return{width:this.width_,height:this.height_}},a.prototype.setAnnotations=function(c,b){return a.addAnnotationRule(),this.annotations_=c,this.layout_?(this.layout_.setAnnotations(this.annotations_),void (b||this.predraw_())):void console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},a.prototype.annotations=function(){return this.annotations_},a.prototype.getLabels=function(){var b=this.attr_("labels");return b?b.slice():null},a.prototype.indexFromSetName=function(b){return this.setIndexByName_[b]},a.prototype.ready=function(b){this.is_initial_draw_?this.readyFns_.push(b):b.call(this,this)},a.addAnnotationRule=function(){if(!a.addedAnnotationCSS){var f="border: 1px solid black; background-color: white; text-align: center;",b=document.createElement("style");b.type="text/css",document.getElementsByTagName("head")[0].appendChild(b);for(var c=0;c<document.styleSheets.length;c++){if(!document.styleSheets[c].disabled){var d=document.styleSheets[c];try{if(d.insertRule){var h=d.cssRules?d.cssRules.length:0;d.insertRule(".dygraphDefaultAnnotation { "+f+" }",h)}else{d.addRule&&d.addRule(".dygraphDefaultAnnotation",f)}return void (a.addedAnnotationCSS=!0)}catch(g){}}}console.warn("Unable to add default annotation CSS rule; display may be off.")}},"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=a),a}();!function(){function c(f){var h=b.exec(f);if(!h){return null}var a=parseInt(h[1],10),g=parseInt(h[2],10),j=parseInt(h[3],10);return h[4]?{r:a,g:g,b:j,a:parseFloat(h[4])}:{r:a,g:g,b:j}}Dygraph.LOG_SCALE=10,Dygraph.LN_TEN=Math.log(Dygraph.LOG_SCALE),Dygraph.log10=function(a){return Math.log(a)/Dygraph.LN_TEN},Dygraph.DOTTED_LINE=[2,2],Dygraph.DASHED_LINE=[7,3],Dygraph.DOT_DASH_LINE=[7,2,2,2],Dygraph.getContext=function(a){return a.getContext("2d")},Dygraph.addEvent=function(g,h,f){g.addEventListener?g.addEventListener(h,f,!1):(g[h+f]=function(){f(window.event)},g.attachEvent("on"+h,g[h+f]))},Dygraph.prototype.addAndTrackEvent=function(g,h,f){Dygraph.addEvent(g,h,f),this.registeredEvents_.push({elem:g,type:h,fn:f})},Dygraph.removeEvent=function(h,j,f){if(h.removeEventListener){h.removeEventListener(j,f,!1)}else{try{h.detachEvent("on"+j,h[j+f])}catch(g){}h[j+f]=null}},Dygraph.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_){for(var a=0;a<this.registeredEvents_.length;a++){var f=this.registeredEvents_[a];Dygraph.removeEvent(f.elem,f.type,f.fn)}}this.registeredEvents_=[]},Dygraph.cancelEvent=function(a){return a=a?a:window.event,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1,!1},Dygraph.hsvToRGB=function(x,v,w){var q,f,k;if(0===v){q=w,f=w,k=w}else{var j=Math.floor(6*x),y=6*x-j,m=w*(1-v),u=w*(1-v*y),g=w*(1-v*(1-y));switch(j){case 1:q=u,f=w,k=m;break;case 2:q=m,f=w,k=g;break;case 3:q=m,f=u,k=w;break;case 4:q=g,f=m,k=w;break;case 5:q=w,f=m,k=u;break;case 6:case 0:q=w,f=g,k=m}}return q=Math.floor(255*q+0.5),f=Math.floor(255*f+0.5),k=Math.floor(255*k+0.5),"rgb("+q+","+f+","+k+")"},Dygraph.findPos=function(h){var k=0,f=0;if(h.offsetParent){for(var g=h;;){var j="0",m="0";if(window.getComputedStyle){var l=window.getComputedStyle(g,null);j=l.borderLeft||"0",m=l.borderTop||"0"}if(k+=parseInt(j,10),f+=parseInt(m,10),k+=g.offsetLeft,f+=g.offsetTop,!g.offsetParent){break}g=g.offsetParent}}else{h.x&&(k+=h.x),h.y&&(f+=h.y)}for(;h&&h!=document.body;){k-=h.scrollLeft,f-=h.scrollTop,h=h.parentNode}return{x:k,y:f}},Dygraph.pageX=function(g){if(g.pageX){return !g.pageX||g.pageX<0?0:g.pageX}var h=document.documentElement,f=document.body;return g.clientX+(h.scrollLeft||f.scrollLeft)-(h.clientLeft||0)},Dygraph.pageY=function(g){if(g.pageY){return !g.pageY||g.pageY<0?0:g.pageY}var h=document.documentElement,f=document.body;return g.clientY+(h.scrollTop||f.scrollTop)-(h.clientTop||0)},Dygraph.dragGetX_=function(a,f){return Dygraph.pageX(a)-f.px},Dygraph.dragGetY_=function(a,f){return Dygraph.pageY(a)-f.py},Dygraph.isOK=function(a){return !!a&&!isNaN(a)},Dygraph.isValidPoint=function(a,f){return a?null===a.yval?!1:null===a.x||void 0===a.x?!1:null===a.y||void 0===a.y?!1:isNaN(a.x)||!f&&isNaN(a.y)?!1:!0:!1},Dygraph.floatFormat=function(g,h){var f=Math.min(Math.max(1,h||2),21);return Math.abs(g)<0.001&&0!==g?g.toExponential(f-1):g.toPrecision(f)},Dygraph.zeropad=function(a){return 10>a?"0"+a:""+a},Dygraph.DateAccessorsLocal={getFullYear:function(a){return a.getFullYear()},getMonth:function(a){return a.getMonth()},getDate:function(a){return a.getDate()},getHours:function(a){return a.getHours()},getMinutes:function(a){return a.getMinutes()},getSeconds:function(a){return a.getSeconds()},getMilliseconds:function(a){return a.getMilliseconds()},getDay:function(a){return a.getDay()},makeDate:function(h,k,f,g,j,m,l){return new Date(h,k,f,g,j,m,l)}},Dygraph.DateAccessorsUTC={getFullYear:function(a){return a.getUTCFullYear()},getMonth:function(a){return a.getUTCMonth()},getDate:function(a){return a.getUTCDate()},getHours:function(a){return a.getUTCHours()},getMinutes:function(a){return a.getUTCMinutes()},getSeconds:function(a){return a.getUTCSeconds()},getMilliseconds:function(a){return a.getUTCMilliseconds()},getDay:function(a){return a.getUTCDay()},makeDate:function(h,k,f,g,j,m,l){return new Date(Date.UTC(h,k,f,g,j,m,l))}},Dygraph.hmsString_=function(h,k,f){var g=Dygraph.zeropad,j=g(h)+":"+g(k);return f&&(j+=":"+g(f)),j},Dygraph.dateString_=function(F,z){var D=Dygraph.zeropad,v=z?Dygraph.DateAccessorsUTC:Dygraph.DateAccessorsLocal,f=new Date(F),m=v.getFullYear(f),k=v.getMonth(f),G=v.getDate(f),q=v.getHours(f),w=v.getMinutes(f),j=v.getSeconds(f),x=""+m,A=D(k+1),E=D(G),B=3600*q+60*w+j,C=x+"/"+A+"/"+E;return B&&(C+=" "+Dygraph.hmsString_(q,w,j)),C},Dygraph.round_=function(g,h){var f=Math.pow(10,h);return Math.round(g*f)/f},Dygraph.binarySearch=function(q,m,p,k,f){if((null===k||void 0===k||null===f||void 0===f)&&(k=0,f=m.length-1),k>f){return -1}(null===p||void 0===p)&&(p=0);var h,g=function(a){return a>=0&&a<m.length},u=parseInt((k+f)/2,10),j=m[u];return j==q?u:j>q?p>0&&(h=u-1,g(h)&&m[h]<q)?u:Dygraph.binarySearch(q,m,p,k,u-1):q>j?0>p&&(h=u+1,g(h)&&m[h]>q)?u:Dygraph.binarySearch(q,m,p,u+1,f):-1},Dygraph.dateParser=function(g){var h,f;if((-1==g.search("-")||-1!=g.search("T")||-1!=g.search("Z"))&&(f=Dygraph.dateStrToMillis(g),f&&!isNaN(f))){return f}if(-1!=g.search("-")){for(h=g.replace("-","/","g");-1!=h.search("-");){h=h.replace("-","/")}f=Dygraph.dateStrToMillis(h)}else{8==g.length?(h=g.substr(0,4)+"/"+g.substr(4,2)+"/"+g.substr(6,2),f=Dygraph.dateStrToMillis(h)):f=Dygraph.dateStrToMillis(g)}return(!f||isNaN(f))&&console.error("Couldn't parse "+g+" as a date"),f},Dygraph.dateStrToMillis=function(a){return new Date(a).getTime()},Dygraph.update=function(g,h){if("undefined"!=typeof h&&null!==h){for(var f in h){h.hasOwnProperty(f)&&(g[f]=h[f])}}return g},Dygraph.updateDeep=function(h,j){function f(a){return"object"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName}if("undefined"!=typeof j&&null!==j){for(var g in j){j.hasOwnProperty(g)&&(null===j[g]?h[g]=null:Dygraph.isArrayLike(j[g])?h[g]=j[g].slice():f(j[g])?h[g]=j[g]:"object"==typeof j[g]?(("object"!=typeof h[g]||null===h[g])&&(h[g]={}),Dygraph.updateDeep(h[g],j[g])):h[g]=j[g])}}return h},Dygraph.isArrayLike=function(a){var f=typeof a;return"object"!=f&&("function"!=f||"function"!=typeof a.item)||null===a||"number"!=typeof a.length||3===a.nodeType?!1:!0},Dygraph.isDateLike=function(a){return"object"!=typeof a||null===a||"function"!=typeof a.getTime?!1:!0},Dygraph.clone=function(g){for(var h=[],f=0;f<g.length;f++){h.push(Dygraph.isArrayLike(g[f])?Dygraph.clone(g[f]):g[f])}return h},Dygraph.createCanvas=function(){var a=document.createElement("canvas"),f=/MSIE/.test(navigator.userAgent)&&!window.opera;return f&&"undefined"!=typeof G_vmlCanvasManager&&(a=G_vmlCanvasManager.initElement(a)),a},Dygraph.getContextPixelRatio=function(h){try{var j=window.devicePixelRatio,f=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return void 0!==j?j/f:1}catch(g){return 1}},Dygraph.isAndroid=function(){return/Android/.test(navigator.userAgent)},Dygraph.Iterator=function(h,j,f,g){j=j||0,f=f||h.length,this.hasNext=!0,this.peek=null,this.start_=j,this.array_=h,this.predicate_=g,this.end_=Math.min(h.length,j+f),this.nextIdx_=j-1,this.next()},Dygraph.Iterator.prototype.next=function(){if(!this.hasNext){return null}for(var g=this.peek,h=this.nextIdx_+1,f=!1;h<this.end_;){if(!this.predicate_||this.predicate_(this.array_,h)){this.peek=this.array_[h],f=!0;break}h++}return this.nextIdx_=h,f||(this.hasNext=!1,this.peek=null),g},Dygraph.createIterator=function(h,j,f,g){return new Dygraph.Iterator(h,j,f,g)},Dygraph.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}}(),Dygraph.repeatAndCleanup=function(q,m,p,k){var f,h=0,g=(new Date).getTime();if(q(h),1==m){return void k()}var u=m-1;!function j(){h>=m||Dygraph.requestAnimFrame.call(window,function(){var n=(new Date).getTime(),a=n-g;f=h,h=Math.floor(a/p);var l=h-f,i=h+l>u;i||h>=u?(q(u),k()):(0!==l&&q(h),j())})}()};var d={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLabelColor:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawXGrid:!0,drawYGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,isZoomedIgnoreProgrammaticZoom:!0,labelsDiv:!0,labelsDivStyles:!0,labelsDivWidth:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotStrokeColor:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};Dygraph.isPixelChangingOptionList=function(h,f){var g={};if(h){for(var k=1;k<h.length;k++){g[h[k]]=!0}}var p=function(l){for(var i in l){if(l.hasOwnProperty(i)&&!d[i]){return !0}}return !1};for(var m in f){if(f.hasOwnProperty(m)){if("highlightSeriesOpts"==m||g[m]&&!f.series){if(p(f[m])){return !0}}else{if("series"==m||"axes"==m){var j=f[m];for(var e in j){if(j.hasOwnProperty(e)&&p(j[e])){return !0}}}else{if(!d[m]){return !0}}}}}return !1},Dygraph.Circles={DEFAULT:function(h,k,f,g,j,m,l){f.beginPath(),f.fillStyle=m,f.arc(g,j,l,0,2*Math.PI,!1),f.fill()}},Dygraph.IFrameTarp=function(){this.tarps=[]},Dygraph.IFrameTarp.prototype.cover=function(){for(var q=document.getElementsByTagName("iframe"),m=0;m<q.length;m++){var p=q[m],k=Dygraph.findPos(p),f=k.x,h=k.y,g=p.offsetWidth,u=p.offsetHeight,j=document.createElement("div");j.style.position="absolute",j.style.left=f+"px",j.style.top=h+"px",j.style.width=g+"px",j.style.height=u+"px",j.style.zIndex=999,document.body.appendChild(j),this.tarps.push(j)}},Dygraph.IFrameTarp.prototype.uncover=function(){for(var a=0;a<this.tarps.length;a++){this.tarps[a].parentNode.removeChild(this.tarps[a])}this.tarps=[]},Dygraph.detectLineDelimiter=function(g){for(var h=0;h<g.length;h++){var f=g.charAt(h);if("\r"===f){return h+1<g.length&&"\n"===g.charAt(h+1)?"\r\n":f}if("\n"===f){return h+1<g.length&&"\r"===g.charAt(h+1)?"\n\r":f}}return null},Dygraph.isNodeContainedBy=function(g,h){if(null===h||null===g){return !1}for(var f=g;f&&f!==h;){f=f.parentNode}return f===h},Dygraph.pow=function(a,f){return 0>f?1/Math.pow(a,-f):Math.pow(a,f)};var b=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;Dygraph.toRGB_=function(j){var f=c(j);if(f){return f}var g=document.createElement("div");g.style.backgroundColor=j,g.style.visibility="hidden",document.body.appendChild(g);var h;return h=window.getComputedStyle?window.getComputedStyle(g,null).backgroundColor:g.currentStyle.backgroundColor,document.body.removeChild(g),c(h)},Dygraph.isCanvasSupported=function(h){var k;try{k=h||document.createElement("canvas"),k.getContext("2d")}catch(f){var g=navigator.appVersion.match(/MSIE (\d\.\d)/),j=-1!=navigator.userAgent.toLowerCase().indexOf("opera");return !g||g[1]<6||j?!1:!0}return !0},Dygraph.parseFloat_=function(h,k,f){var g=parseFloat(h);if(!isNaN(g)){return g}if(/^ *$/.test(h)){return null}if(/^ *nan *$/i.test(h)){return 0/0}var j="Unable to parse '"+h+"' as a number";return void 0!==f&&void 0!==k&&(j+=" on line "+(1+(k||0))+" ('"+f+"') of CSV."),console.error(j),null}}(),function(){Dygraph.GVizChart=function(a){this.container=a},Dygraph.GVizChart.prototype.draw=function(a,b){this.container.innerHTML="","undefined"!=typeof this.date_graph&&this.date_graph.destroy(),this.date_graph=new Dygraph(this.container,a,b)},Dygraph.GVizChart.prototype.setSelection=function(a){var b=!1;a.length&&(b=a[0].row),this.date_graph.setSelection(b)},Dygraph.GVizChart.prototype.getSelection=function(){var d=[],f=this.date_graph.getSelection();if(0>f){return d}for(var b=this.date_graph.layout_.points,c=0;c<b.length;++c){d.push({row:f,column:c+1})}return d}}(),function(){var c=100;Dygraph.Interaction={},Dygraph.Interaction.maybeTreatMouseOpAsClick=function(h,k,f){f.dragEndX=Dygraph.dragGetX_(h,f),f.dragEndY=Dygraph.dragGetY_(h,f);var g=Math.abs(f.dragEndX-f.dragStartX),j=Math.abs(f.dragEndY-f.dragStartY);2>g&&2>j&&void 0!==k.lastx_&&-1!=k.lastx_&&Dygraph.Interaction.treatMouseOpAsClick(k,h,f),f.regionWidth=g,f.regionHeight=j},Dygraph.Interaction.startPan=function(z,N,R){var J,C;R.isPanning=!0;var G=N.xAxisRange();if(N.getOptionForAxis("logscale","x")?(R.initialLeftmostDate=Dygraph.log10(G[0]),R.dateRange=Dygraph.log10(G[1])-Dygraph.log10(G[0])):(R.initialLeftmostDate=G[0],R.dateRange=G[1]-G[0]),R.xUnitsPerPixel=R.dateRange/(N.plotter_.area.w-1),N.getNumericOption("panEdgeFraction")){var F=N.width_*N.getNumericOption("panEdgeFraction"),B=N.xAxisExtremes(),I=N.toDomXCoord(B[0])-F,K=N.toDomXCoord(B[1])+F,E=N.toDataXCoord(I),L=N.toDataXCoord(K);R.boundedDates=[E,L];var O=[],w=N.height_*N.getNumericOption("panEdgeFraction");for(J=0;J<N.axes_.length;J++){C=N.axes_[J];var P=C.extremeRange,j=N.toDomYCoord(P[0],J)+w,S=N.toDomYCoord(P[1],J)-w,q=N.toDataYCoord(j,J),M=N.toDataYCoord(S,J);O[J]=[q,M]}R.boundedValues=O}for(R.is2DPan=!1,R.axes=[],J=0;J<N.axes_.length;J++){C=N.axes_[J];var k={},H=N.yAxisRange(J),A=N.attributes_.getForAxis("logscale",J);A?(k.initialTopValue=Dygraph.log10(H[1]),k.dragValueRange=Dygraph.log10(H[1])-Dygraph.log10(H[0])):(k.initialTopValue=H[1],k.dragValueRange=H[1]-H[0]),k.unitsPerPixel=k.dragValueRange/(N.plotter_.area.h-1),R.axes.push(k),(C.valueWindow||C.valueRange)&&(R.is2DPan=!0)}},Dygraph.Interaction.movePan=function(A,x,z){z.dragEndX=Dygraph.dragGetX_(A,z),z.dragEndY=Dygraph.dragGetY_(A,z);var u=z.initialLeftmostDate-(z.dragEndX-z.dragStartX)*z.xUnitsPerPixel;z.boundedDates&&(u=Math.max(u,z.boundedDates[0]));var f=u+z.dateRange;if(z.boundedDates&&f>z.boundedDates[1]&&(u-=f-z.boundedDates[1],f=u+z.dateRange),x.getOptionForAxis("logscale","x")?x.dateWindow_=[Math.pow(Dygraph.LOG_SCALE,u),Math.pow(Dygraph.LOG_SCALE,f)]:x.dateWindow_=[u,f],z.is2DPan){for(var m=z.dragEndY-z.dragStartY,k=0;k<x.axes_.length;k++){var B=x.axes_[k],q=z.axes[k],v=m*q.unitsPerPixel,j=z.boundedValues?z.boundedValues[k]:null,w=q.initialTopValue+v;j&&(w=Math.min(w,j[1]));var y=w-q.dragValueRange;j&&y<j[0]&&(w-=y-j[0],y=w-q.dragValueRange),x.attributes_.getForAxis("logscale",k)?B.valueWindow=[Math.pow(Dygraph.LOG_SCALE,y),Math.pow(Dygraph.LOG_SCALE,w)]:B.valueWindow=[y,w]}}x.drawGraph_(!1)},Dygraph.Interaction.endPan=Dygraph.Interaction.maybeTreatMouseOpAsClick,Dygraph.Interaction.startZoom=function(g,h,f){f.isZooming=!0,f.zoomMoved=!1},Dygraph.Interaction.moveZoom=function(h,k,f){f.zoomMoved=!0,f.dragEndX=Dygraph.dragGetX_(h,f),f.dragEndY=Dygraph.dragGetY_(h,f);var g=Math.abs(f.dragStartX-f.dragEndX),j=Math.abs(f.dragStartY-f.dragEndY);f.dragDirection=j/2>g?Dygraph.VERTICAL:Dygraph.HORIZONTAL,k.drawZoomRect_(f.dragDirection,f.dragStartX,f.dragEndX,f.dragStartY,f.dragEndY,f.prevDragDirection,f.prevEndX,f.prevEndY),f.prevEndX=f.dragEndX,f.prevEndY=f.dragEndY,f.prevDragDirection=f.dragDirection},Dygraph.Interaction.treatMouseOpAsClick=function(C,y,A){for(var v=C.getFunctionOption("clickCallback"),f=C.getFunctionOption("pointClickCallback"),m=null,k=-1,D=Number.MAX_VALUE,q=0;q<C.selPoints_.length;q++){var w=C.selPoints_[q],j=Math.pow(w.canvasx-A.dragEndX,2)+Math.pow(w.canvasy-A.dragEndY,2);!isNaN(j)&&(-1==k||D>j)&&(D=j,k=q)}var x=C.getNumericOption("highlightCircleSize")+2;if(x*x>=D&&(m=C.selPoints_[k]),m){var z={cancelable:!0,point:m,canvasx:A.dragEndX,canvasy:A.dragEndY},B=C.cascadeEvents_("pointClick",z);if(B){return}f&&f.call(C,y,m)}var z={cancelable:!0,xval:C.lastx_,pts:C.selPoints_,canvasx:A.dragEndX,canvasy:A.dragEndY};C.cascadeEvents_("click",z)||v&&v.call(C,y,C.lastx_,C.selPoints_)},Dygraph.Interaction.endZoom=function(h,l,f){l.clearZoomRect_(),f.isZooming=!1,Dygraph.Interaction.maybeTreatMouseOpAsClick(h,l,f);var g=l.getArea();if(f.regionWidth>=10&&f.dragDirection==Dygraph.HORIZONTAL){var k=Math.min(f.dragStartX,f.dragEndX),p=Math.max(f.dragStartX,f.dragEndX);k=Math.max(k,g.x),p=Math.min(p,g.x+g.w),p>k&&l.doZoomX_(k,p),f.cancelNextDblclick=!0}else{if(f.regionHeight>=10&&f.dragDirection==Dygraph.VERTICAL){var m=Math.min(f.dragStartY,f.dragEndY),j=Math.max(f.dragStartY,f.dragEndY);m=Math.max(m,g.y),j=Math.min(j,g.y+g.h),j>m&&l.doZoomY_(m,j),f.cancelNextDblclick=!0}}f.dragStartX=null,f.dragStartY=null},Dygraph.Interaction.startTouch=function(h,k,f){h.preventDefault(),h.touches.length>1&&(f.startTimeForDoubleTapMs=null);for(var g=[],j=0;j<h.touches.length;j++){var m=h.touches[j];g.push({pageX:m.pageX,pageY:m.pageY,dataX:k.toDataXCoord(m.pageX),dataY:k.toDataYCoord(m.pageY)})}if(f.initialTouches=g,1==g.length){f.initialPinchCenter=g[0],f.touchDirections={x:!0,y:!0}}else{if(g.length>=2){f.initialPinchCenter={pageX:0.5*(g[0].pageX+g[1].pageX),pageY:0.5*(g[0].pageY+g[1].pageY),dataX:0.5*(g[0].dataX+g[1].dataX),dataY:0.5*(g[0].dataY+g[1].dataY)};var l=180/Math.PI*Math.atan2(f.initialPinchCenter.pageY-g[0].pageY,g[0].pageX-f.initialPinchCenter.pageX);l=Math.abs(l),l>90&&(l=90-l),f.touchDirections={x:67.5>l,y:l>22.5}}}f.initialRange={x:k.xAxisRange(),y:k.yAxisRange()}},Dygraph.Interaction.moveTouch=function(w,J,M){M.startTimeForDoubleTapMs=null;var F,A=[];for(F=0;F<w.touches.length;F++){var D=w.touches[F];A.push({pageX:D.pageX,pageY:D.pageY})}var C,z=M.initialTouches,E=M.initialPinchCenter;C=1==A.length?A[0]:{pageX:0.5*(A[0].pageX+A[1].pageX),pageY:0.5*(A[0].pageY+A[1].pageY)};var G={pageX:C.pageX-E.pageX,pageY:C.pageY-E.pageY},B=M.initialRange.x[1]-M.initialRange.x[0],H=M.initialRange.y[0]-M.initialRange.y[1];G.dataX=G.pageX/J.plotter_.area.w*B,G.dataY=G.pageY/J.plotter_.area.h*H;var K,q;if(1==A.length){K=1,q=1}else{if(A.length>=2){var L=z[1].pageX-E.pageX;K=(A[1].pageX-C.pageX)/L;var j=z[1].pageY-E.pageY;q=(A[1].pageY-C.pageY)/j}}K=Math.min(8,Math.max(0.125,K)),q=Math.min(8,Math.max(0.125,q));var N=!1;if(M.touchDirections.x&&(J.dateWindow_=[E.dataX-G.dataX+(M.initialRange.x[0]-E.dataX)/K,E.dataX-G.dataX+(M.initialRange.x[1]-E.dataX)/K],N=!0),M.touchDirections.y){for(F=0;1>F;F++){var m=J.axes_[F],I=J.attributes_.getForAxis("logscale",F);I||(m.valueWindow=[E.dataY-G.dataY+(M.initialRange.y[0]-E.dataY)/q,E.dataY-G.dataY+(M.initialRange.y[1]-E.dataY)/q],N=!0)}}if(J.drawGraph_(!1),N&&A.length>1&&J.getFunctionOption("zoomCallback")){var k=J.xAxisRange();J.getFunctionOption("zoomCallback").call(J,k[0],k[1],J.yAxisRanges())}},Dygraph.Interaction.endTouch=function(h,k,f){if(0!==h.touches.length){Dygraph.Interaction.startTouch(h,k,f)}else{if(1==h.changedTouches.length){var g=(new Date).getTime(),j=h.changedTouches[0];f.startTimeForDoubleTapMs&&g-f.startTimeForDoubleTapMs<500&&f.doubleTapX&&Math.abs(f.doubleTapX-j.screenX)<50&&f.doubleTapY&&Math.abs(f.doubleTapY-j.screenY)<50?k.resetZoom():(f.startTimeForDoubleTapMs=g,f.doubleTapX=j.screenX,f.doubleTapY=j.screenY)}}};var d=function(g,h,f){return h>g?h-g:g>f?g-f:0},b=function(g,e){var f=Dygraph.findPos(e.canvas_),j={left:f.x,right:f.x+e.canvas_.offsetWidth,top:f.y,bottom:f.y+e.canvas_.offsetHeight},l={x:Dygraph.pageX(g),y:Dygraph.pageY(g)},k=d(l.x,j.left,j.right),h=d(l.y,j.top,j.bottom);return Math.max(k,h)};Dygraph.Interaction.defaultModel={mousedown:function(g,a,f){if(!g.button||2!=g.button){f.initializeMouseDown(g,a,f),g.altKey||g.shiftKey?Dygraph.startPan(g,a,f):Dygraph.startZoom(g,a,f);var j=function(i){if(f.isZooming){var k=b(i,a);c>k?Dygraph.moveZoom(i,a,f):null!==f.dragEndX&&(f.dragEndX=null,f.dragEndY=null,a.clearZoomRect_())}else{f.isPanning&&Dygraph.movePan(i,a,f)}},h=function(e){f.isZooming?null!==f.dragEndX?Dygraph.endZoom(e,a,f):Dygraph.Interaction.maybeTreatMouseOpAsClick(e,a,f):f.isPanning&&Dygraph.endPan(e,a,f),Dygraph.removeEvent(document,"mousemove",j),Dygraph.removeEvent(document,"mouseup",h),f.destroy()};a.addAndTrackEvent(document,"mousemove",j),a.addAndTrackEvent(document,"mouseup",h)}},willDestroyContextMyself:!0,touchstart:function(g,h,f){Dygraph.Interaction.startTouch(g,h,f)},touchmove:function(g,h,f){Dygraph.Interaction.moveTouch(g,h,f)},touchend:function(g,h,f){Dygraph.Interaction.endTouch(g,h,f)},dblclick:function(h,j,f){if(f.cancelNextDblclick){return void (f.cancelNextDblclick=!1)}var g={canvasx:f.dragEndX,canvasy:f.dragEndY};j.cascadeEvents_("dblclick",g)||h.altKey||h.shiftKey||j.resetZoom()}},Dygraph.DEFAULT_ATTRS.interactionModel=Dygraph.Interaction.defaultModel,Dygraph.defaultInteractionModel=Dygraph.Interaction.defaultModel,Dygraph.endZoom=Dygraph.Interaction.endZoom,Dygraph.moveZoom=Dygraph.Interaction.moveZoom,Dygraph.startZoom=Dygraph.Interaction.startZoom,Dygraph.endPan=Dygraph.Interaction.endPan,Dygraph.movePan=Dygraph.Interaction.movePan,Dygraph.startPan=Dygraph.Interaction.startPan,Dygraph.Interaction.nonInteractiveModel_={mousedown:function(g,h,f){f.initializeMouseDown(g,h,f)},mouseup:Dygraph.Interaction.maybeTreatMouseOpAsClick},Dygraph.Interaction.dragIsPanInteractionModel={mousedown:function(g,h,f){f.initializeMouseDown(g,h,f),Dygraph.startPan(g,h,f)},mousemove:function(g,h,f){f.isPanning&&Dygraph.movePan(g,h,f)},mouseup:function(g,h,f){f.isPanning&&Dygraph.endPan(g,h,f)}}}(),function(){Dygraph.TickList=void 0,Dygraph.Ticker=void 0,Dygraph.numericLinearTicks=function(d,g,b,c,f,j){var h=function(a){return"logscale"===a?!1:c(a)};return Dygraph.numericTicks(d,g,b,h,f,j)},Dygraph.numericTicks=function(K,ae,ai,aa,R,X){var W,N,Z,ab,V=aa("pixelsPerLabel"),ac=[];if(X){for(W=0;W<X.length;W++){ac.push({v:X[W]})}}else{if(aa("logscale")){ab=Math.floor(ai/V);var af=Dygraph.binarySearch(K,Dygraph.PREFERRED_LOG_TICK_VALUES,1),I=Dygraph.binarySearch(ae,Dygraph.PREFERRED_LOG_TICK_VALUES,-1);-1==af&&(af=0),-1==I&&(I=Dygraph.PREFERRED_LOG_TICK_VALUES.length-1);var ag=null;if(I-af>=ab/4){for(var B=I;B>=af;B--){var aj=Dygraph.PREFERRED_LOG_TICK_VALUES[B],H=Math.log(aj/K)/Math.log(ae/K)*ai,ad={v:aj};null===ag?ag={tickValue:aj,pixel_coord:H}:Math.abs(H-ag.pixel_coord)>=V?ag={tickValue:aj,pixel_coord:H}:ad.label="",ac.push(ad)}ac.reverse()}}if(0===ac.length){var F,Y,M=aa("labelsKMG2");M?(F=[1,2,4,8,16,32,64,128,256],Y=16):(F=[1,2,5,10,20,50,100],Y=10);var G,U,ah,j,J=Math.ceil(ai/V),O=Math.abs(ae-K)/J,z=Math.floor(Math.log(O)/Math.log(Y)),q=Math.pow(Y,z);for(N=0;N<F.length&&(G=q*F[N],U=Math.floor(K/G)*G,ah=Math.ceil(ae/G)*G,ab=Math.abs(ah-U)/G,j=ai/ab,!(j>V));N++){}for(U>ah&&(G*=-1),W=0;ab>=W;W++){Z=U+W*G,ac.push({v:Z})}}}var k=aa("axisLabelFormatter");for(W=0;W<ac.length;W++){void 0===ac[W].label&&(ac[W].label=k.call(R,ac[W].v,0,aa,R))}return ac},Dygraph.dateTicker=function(d,g,b,c,f,j){var h=Dygraph.pickDateTickGranularity(d,g,b,c);return h>=0?Dygraph.getDateAxis(d,g,h,c,f):[]},Dygraph.SECONDLY=0,Dygraph.TWO_SECONDLY=1,Dygraph.FIVE_SECONDLY=2,Dygraph.TEN_SECONDLY=3,Dygraph.THIRTY_SECONDLY=4,Dygraph.MINUTELY=5,Dygraph.TWO_MINUTELY=6,Dygraph.FIVE_MINUTELY=7,Dygraph.TEN_MINUTELY=8,Dygraph.THIRTY_MINUTELY=9,Dygraph.HOURLY=10,Dygraph.TWO_HOURLY=11,Dygraph.SIX_HOURLY=12,Dygraph.DAILY=13,Dygraph.TWO_DAILY=14,Dygraph.WEEKLY=15,Dygraph.MONTHLY=16,Dygraph.QUARTERLY=17,Dygraph.BIANNUAL=18,Dygraph.ANNUAL=19,Dygraph.DECADAL=20,Dygraph.CENTENNIAL=21,Dygraph.NUM_GRANULARITIES=22,Dygraph.DATEFIELD_Y=0,Dygraph.DATEFIELD_M=1,Dygraph.DATEFIELD_D=2,Dygraph.DATEFIELD_HH=3,Dygraph.DATEFIELD_MM=4,Dygraph.DATEFIELD_SS=5,Dygraph.DATEFIELD_MS=6,Dygraph.NUM_DATEFIELDS=7,Dygraph.TICK_PLACEMENT=[],Dygraph.TICK_PLACEMENT[Dygraph.SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:1,spacing:1000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:2,spacing:2000},Dygraph.TICK_PLACEMENT[Dygraph.FIVE_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:5,spacing:5000},Dygraph.TICK_PLACEMENT[Dygraph.TEN_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:10,spacing:10000},Dygraph.TICK_PLACEMENT[Dygraph.THIRTY_SECONDLY]={datefield:Dygraph.DATEFIELD_SS,step:30,spacing:30000},Dygraph.TICK_PLACEMENT[Dygraph.MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:1,spacing:60000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:2,spacing:120000},Dygraph.TICK_PLACEMENT[Dygraph.FIVE_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:5,spacing:300000},Dygraph.TICK_PLACEMENT[Dygraph.TEN_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:10,spacing:600000},Dygraph.TICK_PLACEMENT[Dygraph.THIRTY_MINUTELY]={datefield:Dygraph.DATEFIELD_MM,step:30,spacing:1800000},Dygraph.TICK_PLACEMENT[Dygraph.HOURLY]={datefield:Dygraph.DATEFIELD_HH,step:1,spacing:3600000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_HOURLY]={datefield:Dygraph.DATEFIELD_HH,step:2,spacing:7200000},Dygraph.TICK_PLACEMENT[Dygraph.SIX_HOURLY]={datefield:Dygraph.DATEFIELD_HH,step:6,spacing:21600000},Dygraph.TICK_PLACEMENT[Dygraph.DAILY]={datefield:Dygraph.DATEFIELD_D,step:1,spacing:86400000},Dygraph.TICK_PLACEMENT[Dygraph.TWO_DAILY]={datefield:Dygraph.DATEFIELD_D,step:2,spacing:172800000},Dygraph.TICK_PLACEMENT[Dygraph.WEEKLY]={datefield:Dygraph.DATEFIELD_D,step:7,spacing:604800000},Dygraph.TICK_PLACEMENT[Dygraph.MONTHLY]={datefield:Dygraph.DATEFIELD_M,step:1,spacing:2629817280},Dygraph.TICK_PLACEMENT[Dygraph.QUARTERLY]={datefield:Dygraph.DATEFIELD_M,step:3,spacing:21600000*365.2524},Dygraph.TICK_PLACEMENT[Dygraph.BIANNUAL]={datefield:Dygraph.DATEFIELD_M,step:6,spacing:43200000*365.2524},Dygraph.TICK_PLACEMENT[Dygraph.ANNUAL]={datefield:Dygraph.DATEFIELD_Y,step:1,spacing:86400000*365.2524},Dygraph.TICK_PLACEMENT[Dygraph.DECADAL]={datefield:Dygraph.DATEFIELD_Y,step:10,spacing:315578073600},Dygraph.TICK_PLACEMENT[Dygraph.CENTENNIAL]={datefield:Dygraph.DATEFIELD_Y,step:100,spacing:3155780736000},Dygraph.PREFERRED_LOG_TICK_VALUES=function(){for(var d=[],g=-39;39>=g;g++){for(var b=Math.pow(10,g),c=1;9>=c;c++){var f=b*c;d.push(f)}}return d}(),Dygraph.pickDateTickGranularity=function(d,g,b,c){for(var f=c("pixelsPerLabel"),j=0;j<Dygraph.NUM_GRANULARITIES;j++){var h=Dygraph.numDateTicks(d,g,j);if(b/h>=f){return j}}return -1},Dygraph.numDateTicks=function(d,f,b){var c=Dygraph.TICK_PLACEMENT[b].spacing;return Math.round(1*(f-d)/c)},Dygraph.getDateAxis=function(k,E,H,B,q){var z=B("axisLabelFormatter"),x=B("labelsUTC"),m=x?Dygraph.DateAccessorsUTC:Dygraph.DateAccessorsLocal,A=Dygraph.TICK_PLACEMENT[H].datefield,C=Dygraph.TICK_PLACEMENT[H].step,w=Dygraph.TICK_PLACEMENT[H].spacing,D=new Date(k),F=[];F[Dygraph.DATEFIELD_Y]=m.getFullYear(D),F[Dygraph.DATEFIELD_M]=m.getMonth(D),F[Dygraph.DATEFIELD_D]=m.getDate(D),F[Dygraph.DATEFIELD_HH]=m.getHours(D),F[Dygraph.DATEFIELD_MM]=m.getMinutes(D),F[Dygraph.DATEFIELD_SS]=m.getSeconds(D),F[Dygraph.DATEFIELD_MS]=m.getMilliseconds(D);var j=F[A]%C;H==Dygraph.WEEKLY&&(j=m.getDay(D)),F[A]-=j;for(var G=A+1;G<Dygraph.NUM_DATEFIELDS;G++){F[G]=G===Dygraph.DATEFIELD_D?1:0}var b=[],I=m.makeDate.apply(null,F),f=I.getTime();if(H<=Dygraph.HOURLY){for(k>f&&(f+=w,I=new Date(f));E>=f;){b.push({v:f,label:z.call(q,I,H,B,q)}),f+=w,I=new Date(f)}}else{for(k>f&&(F[A]+=C,I=m.makeDate.apply(null,F),f=I.getTime());E>=f;){(H>=Dygraph.DAILY||m.getHours(I)%C===0)&&b.push({v:f,label:z.call(q,I,H,B,q)}),F[A]+=C,I=m.makeDate.apply(null,F),f=I.getTime()}}return b},Dygraph&&Dygraph.DEFAULT_ATTRS&&Dygraph.DEFAULT_ATTRS.axes&&Dygraph.DEFAULT_ATTRS.axes.x&&Dygraph.DEFAULT_ATTRS.axes.y&&Dygraph.DEFAULT_ATTRS.axes.y2&&(Dygraph.DEFAULT_ATTRS.axes.x.ticker=Dygraph.dateTicker,Dygraph.DEFAULT_ATTRS.axes.y.ticker=Dygraph.numericTicks,Dygraph.DEFAULT_ATTRS.axes.y2.ticker=Dygraph.numericTicks)}(),Dygraph.Plugins={},Dygraph.Plugins.Annotations=function(){var a=function(){this.annotations_=[]};return a.prototype.toString=function(){return"Annotations Plugin"},a.prototype.activate=function(b){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},a.prototype.detachLabels=function(){for(var b=0;b<this.annotations_.length;b++){var c=this.annotations_[b];c.parentNode&&c.parentNode.removeChild(c),this.annotations_[b]=null}this.annotations_=[]},a.prototype.clearChart=function(b){this.detachLabels()},a.prototype.didDrawChart=function(w){var K=w.dygraph,N=K.layout_.annotated_points;if(N&&0!==N.length){for(var G=w.canvas.parentNode,A={position:"absolute",fontSize:K.getOption("axisLabelFontSize")+"px",overflow:"hidden"},D=function(e,c,d){return function(f){var g=d.annotation;g.hasOwnProperty(e)?g[e](g,d,K,f):K.getOption(c)&&K.getOption(c)(g,d,K,f)}},C=w.dygraph.plotter_.area,z={},F=0;F<N.length;F++){var H=N[F];if(!(H.canvasx<C.x||H.canvasx>C.x+C.w||H.canvasy<C.y||H.canvasy>C.y+C.h)){var B=H.annotation,I=6;B.hasOwnProperty("tickHeight")&&(I=B.tickHeight);var L=document.createElement("div");for(var q in A){A.hasOwnProperty(q)&&(L.style[q]=A[q])}B.hasOwnProperty("icon")||(L.className="dygraphDefaultAnnotation"),B.hasOwnProperty("cssClass")&&(L.className+=" "+B.cssClass);var M=B.hasOwnProperty("width")?B.width:16,b=B.hasOwnProperty("height")?B.height:16;if(B.hasOwnProperty("icon")){var O=document.createElement("img");O.src=B.icon,O.width=M,O.height=b,L.appendChild(O)}else{H.annotation.hasOwnProperty("shortText")&&L.appendChild(document.createTextNode(H.annotation.shortText))}var k=H.canvasx-M/2;L.style.left=k+"px";var J=0;if(B.attachAtBottom){var j=C.y+C.h-b-I;z[k]?j-=z[k]:z[k]=0,z[k]+=I+b,J=j}else{J=H.canvasy-b-I}L.style.top=J+"px",L.style.width=M+"px",L.style.height=b+"px",L.title=H.annotation.text,L.style.color=K.colorsMap_[H.name],L.style.borderColor=K.colorsMap_[H.name],B.div=L,K.addAndTrackEvent(L,"click",D("clickHandler","annotationClickHandler",H,this)),K.addAndTrackEvent(L,"mouseover",D("mouseOverHandler","annotationMouseOverHandler",H,this)),K.addAndTrackEvent(L,"mouseout",D("mouseOutHandler","annotationMouseOutHandler",H,this)),K.addAndTrackEvent(L,"dblclick",D("dblClickHandler","annotationDblClickHandler",H,this)),G.appendChild(L),this.annotations_.push(L);var E=w.drawingContext;if(E.save(),E.strokeStyle=K.colorsMap_[H.name],E.beginPath(),B.attachAtBottom){var j=J+b;E.moveTo(H.canvasx,j),E.lineTo(H.canvasx,j+I)}else{E.moveTo(H.canvasx,H.canvasy),E.lineTo(H.canvasx,H.canvasy-2-I)}E.closePath(),E.stroke(),E.restore()}}}},a.prototype.destroy=function(){this.detachLabels()},a}(),Dygraph.Plugins.Axes=function(){var a=function(){this.xlabels_=[],this.ylabels_=[]};return a.prototype.toString=function(){return"Axes Plugin"},a.prototype.activate=function(b){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},a.prototype.layout=function(d){var f=d.dygraph;if(f.getOptionForAxis("drawAxis","y")){var b=f.getOptionForAxis("axisLabelWidth","y")+2*f.getOptionForAxis("axisTickSize","y");d.reserveSpaceLeft(b)}if(f.getOptionForAxis("drawAxis","x")){var c;c=f.getOption("xAxisHeight")?f.getOption("xAxisHeight"):f.getOptionForAxis("axisLabelFontSize","x")+2*f.getOptionForAxis("axisTickSize","x"),d.reserveSpaceBottom(c)}if(2==f.numAxes()){if(f.getOptionForAxis("drawAxis","y2")){var b=f.getOptionForAxis("axisLabelWidth","y2")+2*f.getOptionForAxis("axisTickSize","y2");d.reserveSpaceRight(b)}}else{f.numAxes()>2&&f.error("Only two y-axes are supported at this time. (Trying to use "+f.numAxes()+")")}},a.prototype.detachLabels=function(){function b(d){for(var f=0;f<d.length;f++){var c=d[f];c.parentNode&&c.parentNode.removeChild(c)}}b(this.xlabels_),b(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},a.prototype.clearChart=function(b){this.detachLabels()},a.prototype.willDrawChart=function(M){function ag(b){return Math.round(b)+0.5}function ak(b){return Math.round(b)-0.5}var ac=M.dygraph;if(ac.getOptionForAxis("drawAxis","x")||ac.getOptionForAxis("drawAxis","y")||ac.getOptionForAxis("drawAxis","y2")){var V,Z,Y,R,ab,ad=M.drawingContext,X=M.canvas.parentNode,ae=ac.width_,ah=ac.height_,J=function(b){return{position:"absolute",fontSize:ac.getOptionForAxis("axisLabelFontSize",b)+"px",color:ac.getOptionForAxis("axisLabelColor",b),width:ac.getOptionForAxis("axisLabelWidth",b)+"px",lineHeight:"normal",overflow:"hidden"}},ai={x:J("x"),y:J("y"),y2:J("y2")},F=function(d,g,b){var c=document.createElement("div"),f=ai["y2"==b?"y2":g];for(var l in f){f.hasOwnProperty(l)&&(c.style[l]=f[l])}var h=document.createElement("div");return h.className="dygraph-axis-label dygraph-axis-label-"+g+(b?" dygraph-axis-label-"+b:""),h.innerHTML=d,c.appendChild(h),c};ad.save();var al=ac.layout_,I=M.dygraph.plotter_.area,af=function(b){return function(c){return ac.getOptionForAxis(c,b)}};if(ac.getOptionForAxis("drawAxis","y")){if(al.yticks&&al.yticks.length>0){var G=ac.numAxes(),aa=[af("y"),af("y2")];for(ab=0;ab<al.yticks.length;ab++){if(R=al.yticks[ab],"function"==typeof R){return}Z=I.x;var N=1,H="y1",W=aa[0];1==R[0]&&(Z=I.x+I.w,N=-1,H="y2",W=aa[1]);var aj=W("axisLabelFontSize");Y=I.y+R[1]*I.h,V=F(R[2],"y",2==G?H:null);var j=Y-aj/2;0>j&&(j=0),j+aj+3>ah?V.style.bottom="0":V.style.top=j+"px",0===R[0]?(V.style.left=I.x-W("axisLabelWidth")-W("axisTickSize")+"px",V.style.textAlign="right"):1==R[0]&&(V.style.left=I.x+I.w+W("axisTickSize")+"px",V.style.textAlign="left"),V.style.width=W("axisLabelWidth")+"px",X.appendChild(V),this.ylabels_.push(V)}var K=this.ylabels_[0],aj=ac.getOptionForAxis("axisLabelFontSize","y"),U=parseInt(K.style.top,10)+aj;U>ah-aj&&(K.style.top=parseInt(K.style.top,10)-aj/2+"px")}var B;if(ac.getOption("drawAxesAtZero")){var q=ac.toPercentXCoord(0);(q>1||0>q||isNaN(q))&&(q=0),B=ag(I.x+q*I.w)}else{B=ag(I.x)}ad.strokeStyle=ac.getOptionForAxis("axisLineColor","y"),ad.lineWidth=ac.getOptionForAxis("axisLineWidth","y"),ad.beginPath(),ad.moveTo(B,ak(I.y)),ad.lineTo(B,ak(I.y+I.h)),ad.closePath(),ad.stroke(),2==ac.numAxes()&&(ad.strokeStyle=ac.getOptionForAxis("axisLineColor","y2"),ad.lineWidth=ac.getOptionForAxis("axisLineWidth","y2"),ad.beginPath(),ad.moveTo(ak(I.x+I.w),ak(I.y)),ad.lineTo(ak(I.x+I.w),ak(I.y+I.h)),ad.closePath(),ad.stroke())}if(ac.getOptionForAxis("drawAxis","x")){if(al.xticks){var W=af("x");for(ab=0;ab<al.xticks.length;ab++){R=al.xticks[ab],Z=I.x+R[0]*I.w,Y=I.y+I.h,V=F(R[1],"x"),V.style.textAlign="center",V.style.top=Y+W("axisTickSize")+"px";var k=Z-W("axisLabelWidth")/2;k+W("axisLabelWidth")>ae&&(k=ae-W("axisLabelWidth"),V.style.textAlign="right"),0>k&&(k=0,V.style.textAlign="left"),V.style.left=k+"px",V.style.width=W("axisLabelWidth")+"px",X.appendChild(V),this.xlabels_.push(V)}}ad.strokeStyle=ac.getOptionForAxis("axisLineColor","x"),ad.lineWidth=ac.getOptionForAxis("axisLineWidth","x"),ad.beginPath();var z;if(ac.getOption("drawAxesAtZero")){var q=ac.toPercentYCoord(0,0);(q>1||0>q)&&(q=1),z=ak(I.y+q*I.h)}else{z=ak(I.y+I.h)}ad.moveTo(ag(I.x),z),ad.lineTo(ag(I.x+I.w),z),ad.closePath(),ad.stroke()}ad.restore()}},a}(),Dygraph.Plugins.ChartLabels=function(){var c=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};c.prototype.toString=function(){return"ChartLabels Plugin"},c.prototype.activate=function(a){return{layout:this.layout,didDrawChart:this.didDrawChart}};var d=function(a){var f=document.createElement("div");return f.style.position="absolute",f.style.left=a.x+"px",f.style.top=a.y+"px",f.style.width=a.w+"px",f.style.height=a.h+"px",f};c.prototype.detachLabels_=function(){for(var g=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],h=0;h<g.length;h++){var f=g[h];f&&f.parentNode&&f.parentNode.removeChild(f)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var b=function(q,m,p,k,f){var h=document.createElement("div");h.style.position="absolute",1==p?h.style.left="0px":h.style.left=m.x+"px",h.style.top=m.y+"px",h.style.width=m.w+"px",h.style.height=m.h+"px",h.style.fontSize=q.getOption("yLabelWidth")-2+"px";var g=document.createElement("div");g.style.position="absolute",g.style.width=m.h+"px",g.style.height=m.w+"px",g.style.top=m.h/2-m.w/2+"px",g.style.left=m.w/2-m.h/2+"px",g.style.textAlign="center";var u="rotate("+(1==p?"-":"")+"90deg)";g.style.transform=u,g.style.WebkitTransform=u,g.style.MozTransform=u,g.style.OTransform=u,g.style.msTransform=u,"undefined"!=typeof document.documentMode&&document.documentMode<9&&(g.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation="+(1==p?"3":"1")+")",g.style.left="0px",g.style.top="0px");var j=document.createElement("div");return j.className=k,j.innerHTML=f,g.appendChild(j),h.appendChild(g),h};return c.prototype.layout=function(f){this.detachLabels_();var e=f.dygraph,k=f.chart_div;if(e.getOption("title")){var p=f.reserveSpaceTop(e.getOption("titleHeight"));this.title_div_=d(p),this.title_div_.style.textAlign="center",this.title_div_.style.fontSize=e.getOption("titleHeight")-8+"px",this.title_div_.style.fontWeight="bold",this.title_div_.style.zIndex=10;var m=document.createElement("div");m.className="dygraph-label dygraph-title",m.innerHTML=e.getOption("title"),this.title_div_.appendChild(m),k.appendChild(this.title_div_)}if(e.getOption("xlabel")){var j=f.reserveSpaceBottom(e.getOption("xLabelHeight"));this.xlabel_div_=d(j),this.xlabel_div_.style.textAlign="center",this.xlabel_div_.style.fontSize=e.getOption("xLabelHeight")-2+"px";var m=document.createElement("div");m.className="dygraph-label dygraph-xlabel",m.innerHTML=e.getOption("xlabel"),this.xlabel_div_.appendChild(m),k.appendChild(this.xlabel_div_)}if(e.getOption("ylabel")){var a=f.reserveSpaceLeft(0);this.ylabel_div_=b(e,a,1,"dygraph-label dygraph-ylabel",e.getOption("ylabel")),k.appendChild(this.ylabel_div_)}if(e.getOption("y2label")&&2==e.numAxes()){var g=f.reserveSpaceRight(0);this.y2label_div_=b(e,g,2,"dygraph-label dygraph-y2label",e.getOption("y2label")),k.appendChild(this.y2label_div_)}},c.prototype.didDrawChart=function(a){var f=a.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=f.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=f.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=f.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=f.getOption("y2label"))},c.prototype.clearChart=function(){},c.prototype.destroy=function(){this.detachLabels_()},c}(),Dygraph.Plugins.Grid=function(){var a=function(){};return a.prototype.toString=function(){return"Gridline Plugin"},a.prototype.activate=function(b){return{willDrawChart:this.willDrawChart}},a.prototype.willDrawChart=function(k){function E(c){return Math.round(c)+0.5}function H(c){return Math.round(c)-0.5}var B,q,z,x,m=k.dygraph,A=k.drawingContext,C=m.layout_,w=k.dygraph.plotter_.area;if(m.getOptionForAxis("drawGrid","y")){for(var D=["y","y2"],F=[],j=[],G=[],b=[],I=[],z=0;z<D.length;z++){G[z]=m.getOptionForAxis("drawGrid",D[z]),G[z]&&(F[z]=m.getOptionForAxis("gridLineColor",D[z]),j[z]=m.getOptionForAxis("gridLineWidth",D[z]),I[z]=m.getOptionForAxis("gridLinePattern",D[z]),b[z]=I[z]&&I[z].length>=2)}for(x=C.yticks,A.save(),z=0;z<x.length;z++){var f=x[z][0];G[f]&&(b[f]&&A.installPattern(I[f]),A.strokeStyle=F[f],A.lineWidth=j[f],B=E(w.x),q=H(w.y+x[z][1]*w.h),A.beginPath(),A.moveTo(B,q),A.lineTo(B+w.w,q),A.closePath(),A.stroke(),b[f]&&A.uninstallPattern())}A.restore()}if(m.getOptionForAxis("drawGrid","x")){x=C.xticks,A.save();var I=m.getOptionForAxis("gridLinePattern","x"),b=I&&I.length>=2;for(b&&A.installPattern(I),A.strokeStyle=m.getOptionForAxis("gridLineColor","x"),A.lineWidth=m.getOptionForAxis("gridLineWidth","x"),z=0;z<x.length;z++){B=E(w.x+x[z][0]*w.w),q=H(w.y+w.h),A.beginPath(),A.moveTo(B,q),A.lineTo(B,w.y),A.closePath(),A.stroke()}b&&A.uninstallPattern(),A.restore()}},a.prototype.destroy=function(){},a}(),Dygraph.Plugins.Legend=function(){var d=function(){this.legend_div_=null,this.is_generated_div_=!1};d.prototype.toString=function(){return"Legend Plugin"};var f;d.prototype.activate=function(j){var l,g=j.getOption("labelsDivWidth"),h=j.getOption("labelsDiv");if(h&&null!==h){l="string"==typeof h||h instanceof String?document.getElementById(h):h}else{var k={position:"absolute",fontSize:"14px",width:g+"px",top:"0px",left:j.size().width-g-2+"px",background:"white",lineHeight:"normal",textAlign:"left",overflow:"hidden"};Dygraph.update(k,j.getOption("labelsDivStyles")),l=document.createElement("div"),l.className="dygraph-legend";for(var p in k){if(k.hasOwnProperty(p)){try{l.style[p]=k[p]}catch(m){console.warn("You are using unsupported css properties for your browser in labelsDivStyles")}}}j.graphDiv.appendChild(l),this.is_generated_div_=!0}return this.legend_div_=l,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var b=function(h){var i=document.createElement("span");i.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),h.appendChild(i);var g=i.offsetWidth;return h.removeChild(i),g},c=function(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return d.prototype.select=function(x){var y=x.selectedX,u=x.selectedPoints,j=x.selectedRow,q=x.dygraph.getOption("legend");if("never"===q){return void (this.legend_div_.style.display="none")}if("follow"===q){var m=x.dygraph.plotter_.area,z=x.dygraph.getOption("labelsDivWidth"),t=x.dygraph.getOptionForAxis("axisLabelWidth","y"),v=u[0].x*m.w+20,k=u[0].y*m.h-20;v+z+1>window.scrollX+window.innerWidth&&(v=v-40-z-(t-m.x)),x.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=t+v+"px",this.legend_div_.style.top=k+"px"}var w=d.generateLegendHTML(x.dygraph,y,u,this.one_em_width_,j);this.legend_div_.innerHTML=w,this.legend_div_.style.display=""},d.prototype.deselect=function(h){var a=h.dygraph.getOption("legend");"always"!==a&&(this.legend_div_.style.display="none");var g=b(this.legend_div_);this.one_em_width_=g;var j=d.generateLegendHTML(h.dygraph,void 0,void 0,g,null);this.legend_div_.innerHTML=j},d.prototype.didDrawChart=function(a){this.deselect(a)},d.prototype.predraw=function(h){if(this.is_generated_div_){h.dygraph.graphDiv.appendChild(this.legend_div_);var i=h.dygraph.plotter_.area,g=h.dygraph.getOption("labelsDivWidth");this.legend_div_.style.left=i.x+i.w-g-1+"px",this.legend_div_.style.top=i.y+"px",this.legend_div_.style.width=g+"px"}},d.prototype.destroy=function(){this.legend_div_=null},d.generateLegendHTML=function(z,S,E,I,H){if(z.getOption("showLabelsOnHighlight")!==!0){return""}var C,K,L,G,M,O=z.getLabels();if("undefined"==typeof S){if("always"!=z.getOption("legend")){return""}for(K=z.getOption("labelsSeparateLines"),C="",L=1;L<O.length;L++){var q=z.getPropertiesForSeries(O[L]);q.visible&&(""!==C&&(C+=K?"<br/>":" "),M=z.getOption("strokePattern",O[L]),G=f(M,q.color,I),C+="<span style='font-weight: bold; color: "+q.color+";'>"+G+" "+c(O[L])+"</span>")}return C}var P=z.optionsViewForAxis_("x"),e=P("valueFormatter");C=e.call(z,S,P,O[0],z,H,0),""!==C&&(C+=":");var T=[],k=z.numAxes();for(L=0;k>L;L++){T[L]=z.optionsViewForAxis_("y"+(L?1+L:""))}var N=z.getOption("labelsShowZeroValues");K=z.getOption("labelsSeparateLines");var i=z.getHighlightSeries();for(L=0;L<E.length;L++){var J=E[L];if((0!==J.yval||N)&&Dygraph.isOK(J.canvasy)){K&&(C+="<br/>");var q=z.getPropertiesForSeries(J.name),B=T[q.axis-1],j=B("valueFormatter"),F=j.call(z,J.yval,B,J.name,z,H,O.indexOf(J.name)),R=J.name==i?" class='highlight'":"";C+="<span"+R+"> <b><span style='color: "+q.color+";'>"+c(J.name)+"</span></b>:&#160;"+F+"</span>"}}return C},f=function(B,y,A){var v=/MSIE/.test(navigator.userAgent)&&!window.opera;if(v){return"&mdash;"}if(!B||B.length<=1){return'<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+y+';"></div>'}var j,q,m,C,u,w=0,k=0,x=[];for(j=0;j<=B.length;j++){w+=B[j%B.length]}if(u=Math.floor(A/(w-B[0])),u>1){for(j=0;j<B.length;j++){x[j]=B[j]/A}k=x.length}else{for(u=1,j=0;j<B.length;j++){x[j]=B[j]/w}k=x.length+1}var z="";for(q=0;u>q;q++){for(j=0;k>j;j+=2){m=x[j%x.length],C=j<B.length?x[(j+1)%x.length]:0,z+='<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: '+C+"em; padding-left: "+m+"em; height: 1px; border-bottom: 2px solid "+y+';"></div>'}}return z},d}(),Dygraph.Plugins.RangeSelector=function(){var a=function(){this.isIE_=/MSIE/.test(navigator.userAgent)&&!window.opera,this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};return a.prototype.toString=function(){return"RangeSelector Plugin"},a.prototype.activate=function(b){return this.dygraph_=b,this.isUsingExcanvas_=b.isUsingExcanvas_,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},a.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null,this.iePanOverlay_=null},a.prototype.getOption_=function(b,c){return this.dygraph_.getOption(b,c)},a.prototype.setDefaultOption_=function(b,c){this.dygraph_.attrs_[b]=c},a.prototype.createInterface_=function(){this.createCanvases_(),this.isUsingExcanvas_&&this.createIEPanOverlay_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},a.prototype.addToGraph_=function(){var b=this.graphDiv_=this.dygraph_.graphDiv;b.appendChild(this.bgcanvas_),b.appendChild(this.fgcanvas_),b.appendChild(this.leftZoomHandle_),b.appendChild(this.rightZoomHandle_)},a.prototype.removeFromGraph_=function(){var b=this.graphDiv_;b.removeChild(this.bgcanvas_),b.removeChild(this.fgcanvas_),b.removeChild(this.leftZoomHandle_),b.removeChild(this.rightZoomHandle_),this.graphDiv_=null},a.prototype.reserveSpace_=function(b){this.getOption_("showRangeSelector")&&b.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},a.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},a.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},a.prototype.updateVisibility_=function(){var b=this.getOption_("showRangeSelector");if(b){this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_()}else{if(this.graphDiv_){this.removeFromGraph_();var c=this.dygraph_;setTimeout(function(){c.width_=0,c.resize()},1)}}return b},a.prototype.resize_=function(){function c(h,j,f){var g=Dygraph.getContextPixelRatio(j);h.style.top=f.y+"px",h.style.left=f.x+"px",h.width=f.w*g,h.height=f.h*g,h.style.width=f.w+"px",h.style.height=f.h+"px",1!=g&&j.scale(g,g)}var d=this.dygraph_.layout_.getPlotArea(),b=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(b=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:d.x,y:d.y+d.h+b+4,w:d.w,h:this.getOption_("rangeSelectorHeight")},c(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_),c(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_)},a.prototype.createCanvases_=function(){this.bgcanvas_=Dygraph.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=Dygraph.getContext(this.bgcanvas_),this.fgcanvas_=Dygraph.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=Dygraph.getContext(this.fgcanvas_)},a.prototype.createIEPanOverlay_=function(){this.iePanOverlay_=document.createElement("div"),this.iePanOverlay_.style.position="absolute",this.iePanOverlay_.style.backgroundColor="white",this.iePanOverlay_.style.filter="alpha(opacity=0)",this.iePanOverlay_.style.display="none",this.iePanOverlay_.style.cursor="move",this.fgcanvas_.appendChild(this.iePanOverlay_)},a.prototype.createZoomHandles_=function(){var b=new Image;b.className="dygraph-rangesel-zoomhandle",b.style.position="absolute",b.style.zIndex=10,b.style.visibility="hidden",b.style.cursor="col-resize",/MSIE 7/.test(navigator.userAgent)?(b.width=7,b.height=14,b.style.backgroundColor="white",b.style.border="1px solid #333333"):(b.width=9,b.height=16,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="),this.isMobileDevice_&&(b.width*=2,b.height*=2),this.leftZoomHandle_=b,this.rightZoomHandle_=b.cloneNode(!1)},a.prototype.initInteraction_=function(){var A,O,S,K,E,H,G,C,J,L,F,M,P,z,R=this,b=document,T=0,q=null,N=!1,j=!1,I=!this.isMobileDevice_&&!this.isUsingExcanvas_,B=new Dygraph.IFrameTarp;A=function(f){var h=R.dygraph_.xAxisExtremes(),c=(h[1]-h[0])/R.canvasRect_.w,d=h[0]+(f.leftHandlePos-R.canvasRect_.x)*c,g=h[0]+(f.rightHandlePos-R.canvasRect_.x)*c;return[d,g]},O=function(c){return Dygraph.cancelEvent(c),N=!0,T=c.clientX,q=c.target?c.target:c.srcElement,("mousedown"===c.type||"dragstart"===c.type)&&(Dygraph.addEvent(b,"mousemove",S),Dygraph.addEvent(b,"mouseup",K)),R.fgcanvas_.style.cursor="col-resize",B.cover(),!0},S=function(f){if(!N){return !1}Dygraph.cancelEvent(f);var g=f.clientX-T;if(Math.abs(g)<4){return !0}T=f.clientX;var c,d=R.getZoomHandleStatus_();q==R.leftZoomHandle_?(c=d.leftHandlePos+g,c=Math.min(c,d.rightHandlePos-q.width-3),c=Math.max(c,R.canvasRect_.x)):(c=d.rightHandlePos+g,c=Math.min(c,R.canvasRect_.x+R.canvasRect_.w),c=Math.max(c,d.leftHandlePos+q.width+3));var h=q.width/2;return q.style.left=c-h+"px",R.drawInteractiveLayer_(),I&&E(),!0},K=function(c){return N?(N=!1,B.uncover(),Dygraph.removeEvent(b,"mousemove",S),Dygraph.removeEvent(b,"mouseup",K),R.fgcanvas_.style.cursor="default",I||E(),!0):!1},E=function(){try{var d=R.getZoomHandleStatus_();if(R.isChangingRange_=!0,d.isZoomed){var c=A(d);R.dygraph_.doZoomXDates_(c[0],c[1])}else{R.dygraph_.resetZoom()}}finally{R.isChangingRange_=!1}},H=function(f){if(R.isUsingExcanvas_){return f.srcElement==R.iePanOverlay_}var g=R.leftZoomHandle_.getBoundingClientRect(),c=g.left+g.width/2;g=R.rightZoomHandle_.getBoundingClientRect();var d=g.left+g.width/2;return f.clientX>c&&f.clientX<d},G=function(c){return !j&&H(c)&&R.getZoomHandleStatus_().isZoomed?(Dygraph.cancelEvent(c),j=!0,T=c.clientX,"mousedown"===c.type&&(Dygraph.addEvent(b,"mousemove",C),Dygraph.addEvent(b,"mouseup",J)),!0):!1},C=function(f){if(!j){return !1}Dygraph.cancelEvent(f);var h=f.clientX-T;if(Math.abs(h)<4){return !0}T=f.clientX;var c=R.getZoomHandleStatus_(),d=c.leftHandlePos,g=c.rightHandlePos,m=g-d;d+h<=R.canvasRect_.x?(d=R.canvasRect_.x,g=d+m):g+h>=R.canvasRect_.x+R.canvasRect_.w?(g=R.canvasRect_.x+R.canvasRect_.w,d=g-m):(d+=h,g+=h);var l=R.leftZoomHandle_.width/2;return R.leftZoomHandle_.style.left=d-l+"px",R.rightZoomHandle_.style.left=g-l+"px",R.drawInteractiveLayer_(),I&&L(),!0},J=function(c){return j?(j=!1,Dygraph.removeEvent(b,"mousemove",C),Dygraph.removeEvent(b,"mouseup",J),I||L(),!0):!1},L=function(){try{R.isChangingRange_=!0,R.dygraph_.dateWindow_=A(R.getZoomHandleStatus_()),R.dygraph_.drawGraph_(!1)}finally{R.isChangingRange_=!1}},F=function(c){if(!N&&!j){var d=H(c)?"move":"default";d!=R.fgcanvas_.style.cursor&&(R.fgcanvas_.style.cursor=d)}},M=function(c){"touchstart"==c.type&&1==c.targetTouches.length?O(c.targetTouches[0])&&Dygraph.cancelEvent(c):"touchmove"==c.type&&1==c.targetTouches.length?S(c.targetTouches[0])&&Dygraph.cancelEvent(c):K(c)},P=function(c){"touchstart"==c.type&&1==c.targetTouches.length?G(c.targetTouches[0])&&Dygraph.cancelEvent(c):"touchmove"==c.type&&1==c.targetTouches.length?C(c.targetTouches[0])&&Dygraph.cancelEvent(c):J(c)},z=function(f,g){for(var c=["touchstart","touchend","touchmove","touchcancel"],d=0;d<c.length;d++){R.dygraph_.addAndTrackEvent(f,c[d],g)}},this.setDefaultOption_("interactionModel",Dygraph.Interaction.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",0.0001);var k=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,k,O),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,k,O),this.isUsingExcanvas_?this.dygraph_.addAndTrackEvent(this.iePanOverlay_,"mousedown",G):(this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",G),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",F)),this.hasTouchInterface_&&(z(this.leftZoomHandle_,M),z(this.rightZoomHandle_,M),z(this.fgcanvas_,P))},a.prototype.drawStaticLayer_=function(){var c=this.bgcanvas_ctx_;c.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(d){console.warn(d)}var b=0.5;this.bgcanvas_ctx_.lineWidth=1,c.strokeStyle="gray",c.beginPath(),c.moveTo(b,b),c.lineTo(b,this.canvasRect_.h-b),c.lineTo(this.canvasRect_.w-b,this.canvasRect_.h-b),c.lineTo(this.canvasRect_.w-b,b),c.stroke()},a.prototype.drawMiniPlot_=function(){var q=this.getOption_("rangeSelectorPlotFillColor"),I=this.getOption_("rangeSelectorPlotStrokeColor");if(q||I){var L=this.getOption_("stepPlot"),E=this.computeCombinedSeriesAndLimits_(),z=E.yMax-E.yMin,C=this.bgcanvas_ctx_,B=0.5,w=this.dygraph_.xAxisExtremes(),D=Math.max(w[1]-w[0],1e-30),F=(this.canvasRect_.w-B)/D,A=(this.canvasRect_.h-B)/z,G=this.canvasRect_.w-B,J=this.canvasRect_.h-B,m=null,K=null;C.beginPath(),C.moveTo(B,J);for(var b=0;b<E.data.length;b++){var M=E.data[b],k=null!==M[0]?(M[0]-w[0])*F:0/0,H=null!==M[1]?J-(M[1]-E.yMin)*A:0/0;(L||null===m||Math.round(k)!=Math.round(m))&&(isFinite(k)&&isFinite(H)?(null===m?C.lineTo(k,J):L&&C.lineTo(k,K),C.lineTo(k,H),m=k,K=H):(null!==m&&(L?(C.lineTo(k,K),C.lineTo(k,J)):C.lineTo(m,J)),m=K=null))}if(C.lineTo(G,J),C.closePath(),q){var j=this.bgcanvas_ctx_.createLinearGradient(0,0,0,J);j.addColorStop(0,"white"),j.addColorStop(1,q),this.bgcanvas_ctx_.fillStyle=j,C.fill()}I&&(this.bgcanvas_ctx_.strokeStyle=I,this.bgcanvas_ctx_.lineWidth=1.5,C.stroke())}},a.prototype.computeCombinedSeriesAndLimits_=function(){var A,O=this.dygraph_,S=this.getOption_("logscale"),K=O.numColumns(),E=O.getLabels(),H=new Array(K),G=!1;for(A=1;K>A;A++){var C=this.getOption_("showInRangeSelector",E[A]);H[A]=C,null!==C&&(G=!0)}if(!G){for(A=0;A<H.length;A++){H[A]=!0}}var J=[],L=O.dataHandler_,F=O.attributes_;for(A=1;A<O.numColumns();A++){if(H[A]){var M=L.extractSeries(O.rawData_,A,F);O.rollPeriod()>1&&(M=L.rollingAverage(M,O.rollPeriod(),F)),J.push(M)}}var P=[];for(A=0;A<J[0].length;A++){for(var z=0,R=0,b=0;b<J.length;b++){var T=J[b][A][1];null===T||isNaN(T)||(R++,z+=T)}P.push([J[0][A][0],z/R])}var q=Number.MAX_VALUE,N=-Number.MAX_VALUE;for(A=0;A<P.length;A++){var j=P[A][1];null!==j&&isFinite(j)&&(!S||j>0)&&(q=Math.min(q,j),N=Math.max(N,j))}var I=0.25;if(S){for(N=Dygraph.log10(N),N+=N*I,q=Dygraph.log10(q),A=0;A<P.length;A++){P[A][1]=Dygraph.log10(P[A][1])}}else{var B,k=N-q;B=k<=Number.MIN_VALUE?N*I:k*I,N+=B,q-=B}return{data:P,yMin:q,yMax:N}},a.prototype.placeZoomHandles_=function(){var k=this.dygraph_.xAxisExtremes(),h=this.dygraph_.xAxisRange(),j=k[1]-k[0],g=Math.max(0,(h[0]-k[0])/j),b=Math.max(0,(k[1]-h[1])/j),d=this.canvasRect_.x+this.canvasRect_.w*g,c=this.canvasRect_.x+this.canvasRect_.w*(1-b),m=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),f=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=d-f+"px",this.leftZoomHandle_.style.top=m+"px",this.rightZoomHandle_.style.left=c-f+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},a.prototype.drawInteractiveLayer_=function(){var d=this.fgcanvas_ctx_;d.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var g=1,b=this.canvasRect_.w-g,c=this.canvasRect_.h-g,f=this.getZoomHandleStatus_();if(d.strokeStyle="black",f.isZoomed){var j=Math.max(g,f.leftHandlePos-this.canvasRect_.x),h=Math.min(b,f.rightHandlePos-this.canvasRect_.x);d.fillStyle="rgba(240, 240, 240, 0.6)",d.fillRect(0,0,j,this.canvasRect_.h),d.fillRect(h,0,this.canvasRect_.w-h,this.canvasRect_.h),d.beginPath(),d.moveTo(g,g),d.lineTo(j,g),d.lineTo(j,c),d.lineTo(h,c),d.lineTo(h,g),d.lineTo(b,g),d.stroke(),this.isUsingExcanvas_&&(this.iePanOverlay_.style.width=h-j+"px",this.iePanOverlay_.style.left=j+"px",this.iePanOverlay_.style.height=c+"px",this.iePanOverlay_.style.display="inline")}else{d.beginPath(),d.moveTo(g,g),d.lineTo(g,c),d.lineTo(b,c),d.lineTo(b,g),d.stroke(),this.iePanOverlay_&&(this.iePanOverlay_.style.display="none")}},a.prototype.getZoomHandleStatus_=function(){var c=this.leftZoomHandle_.width/2,d=parseFloat(this.leftZoomHandle_.style.left)+c,b=parseFloat(this.rightZoomHandle_.style.left)+c;return{leftHandlePos:d,rightHandlePos:b,isZoomed:d-1>this.canvasRect_.x||b+1<this.canvasRect_.x+this.canvasRect_.w}},a}(),Dygraph.PLUGINS.push(Dygraph.Plugins.Legend,Dygraph.Plugins.Axes,Dygraph.Plugins.RangeSelector,Dygraph.Plugins.ChartLabels,Dygraph.Plugins.Annotations,Dygraph.Plugins.Grid),Dygraph.DataHandler=function(){},Dygraph.DataHandlers={},function(){var a=Dygraph.DataHandler;a.X=0,a.Y=1,a.EXTRAS=2,a.prototype.extractSeries=function(c,d,b){},a.prototype.seriesToPoints=function(k,m,g){for(var b=[],d=0;d<k.length;++d){var c=k[d],p=c[1],f=null===p?null:a.parseFloat(p),j={x:0/0,y:0/0,xval:a.parseFloat(c[0]),yval:f,name:m,idx:d+g};b.push(j)}return this.onPointsCreated_(k,b),b},a.prototype.onPointsCreated_=function(b,c){},a.prototype.rollingAverage=function(c,d,b){},a.prototype.getExtremeYValues=function(c,d,b){},a.prototype.onLineEvaluated=function(c,d,b){},a.prototype.computeYInterpolation_=function(d,g,b){var c=g[1]-d[1],f=g[0]-d[0],j=c/f,h=(b-d[0])*j;return d[1]+h},a.prototype.getIndexesInWindow_=function(d,g){var b=0,c=d.length-1;if(g){for(var f=0,j=g[0],h=g[1];f<d.length-1&&d[f][0]<j;){b++,f++}for(f=d.length-1;f>0&&d[f][0]>h;){c--,f--}}return c>=b?[b,c]:[0,d.length-1]},a.parseFloat=function(b){return null===b?0/0:b}}(),function(){Dygraph.DataHandlers.DefaultHandler=function(){};var a=Dygraph.DataHandlers.DefaultHandler;a.prototype=new Dygraph.DataHandler,a.prototype.extractSeries=function(d,h,b){for(var c=[],g=b.get("logscale"),k=0;k<d.length;k++){var j=d[k][0],f=d[k][h];g&&0>=f&&(f=null),c.push([j,f])}return c},a.prototype.rollingAverage=function(k,h,j){h=Math.min(h,k.length);var g,b,d,c,m,f=[];if(1==h){return k}for(g=0;g<k.length;g++){for(c=0,m=0,b=Math.max(0,g-h+1);g+1>b;b++){d=k[b][1],null===d||isNaN(d)||(m++,c+=k[b][1])}m?f[g]=[k[g][0],c/m]:f[g]=[k[g][0],null]}return f},a.prototype.getExtremeYValues=function(k,h,j){for(var g,b=null,d=null,c=0,m=k.length-1,f=c;m>=f;f++){g=k[f][1],null===g||isNaN(g)||((null===d||g>d)&&(d=g),(null===b||b>g)&&(b=g))}return[b,d]}}(),function(){Dygraph.DataHandlers.DefaultFractionHandler=function(){};var a=Dygraph.DataHandlers.DefaultFractionHandler;a.prototype=new Dygraph.DataHandlers.DefaultHandler,a.prototype.extractSeries=function(y,v,x){for(var m,b,j,f,z,k,q=[],c=100,u=x.get("logscale"),w=0;w<y.length;w++){m=y[w][0],j=y[w][v],u&&null!==j&&(j[0]<=0||j[1]<=0)&&(j=null),null!==j?(f=j[0],z=j[1],null===f||isNaN(f)?q.push([m,f,[f,z]]):(k=z?f/z:0,b=c*k,q.push([m,b,[f,z]]))):q.push([m,null,[null,null]])}return q},a.prototype.rollingAverage=function(p,k,m){k=Math.min(k,p.length);var g,b=[],d=0,c=0,q=100;for(g=0;g<p.length;g++){d+=p[g][2][0],c+=p[g][2][1],g-k>=0&&(d-=p[g-k][2][0],c-=p[g-k][2][1]);var f=p[g][0],j=c?d/c:0;b[g]=[f,q*j]}return b}}(),function(){Dygraph.DataHandlers.BarsHandler=function(){Dygraph.DataHandler.call(this)},Dygraph.DataHandlers.BarsHandler.prototype=new Dygraph.DataHandler;var a=Dygraph.DataHandlers.BarsHandler;a.prototype.extractSeries=function(c,d,b){},a.prototype.rollingAverage=function(c,d,b){},a.prototype.onPointsCreated_=function(d,g){for(var b=0;b<d.length;++b){var c=d[b],f=g[b];f.y_top=0/0,f.y_bottom=0/0,f.yval_minus=Dygraph.DataHandler.parseFloat(c[2][0]),f.yval_plus=Dygraph.DataHandler.parseFloat(c[2][1])}},a.prototype.getExtremeYValues=function(u,m,q){for(var j,b=null,f=null,d=0,v=u.length-1,g=d;v>=g;g++){if(j=u[g][1],null!==j&&!isNaN(j)){var k=u[g][2][0],c=u[g][2][1];k>j&&(k=j),j>c&&(c=j),(null===f||c>f)&&(f=c),(null===b||b>k)&&(b=k)}}return[b,f]},a.prototype.onLineEvaluated=function(d,g,b){for(var c,f=0;f<d.length;f++){c=d[f],c.y_top=DygraphLayout.calcYNormal_(g,c.yval_minus,b),c.y_bottom=DygraphLayout.calcYNormal_(g,c.yval_plus,b)}}}(),function(){Dygraph.DataHandlers.CustomBarsHandler=function(){};var a=Dygraph.DataHandlers.CustomBarsHandler;a.prototype=new Dygraph.DataHandlers.BarsHandler,a.prototype.extractSeries=function(k,h,j){for(var g,b,d,c=[],m=j.get("logscale"),f=0;f<k.length;f++){g=k[f][0],d=k[f][h],m&&null!==d&&(d[0]<=0||d[1]<=0||d[2]<=0)&&(d=null),null!==d?(b=d[1],c.push(null===b||isNaN(b)?[g,b,[b,b]]:[g,b,[d[0],d[2]]])):c.push([g,null,[null,null]])}return c},a.prototype.rollingAverage=function(w,u,v){u=Math.min(u,w.length);var k,b,f,d,x,j,m,c=[];for(b=0,d=0,f=0,x=0,j=0;j<w.length;j++){if(k=w[j][1],m=w[j][2],c[j]=w[j],null===k||isNaN(k)||(b+=m[0],d+=k,f+=m[1],x+=1),j-u>=0){var q=w[j-u];null===q[1]||isNaN(q[1])||(b-=q[2][0],d-=q[1],f-=q[2][1],x-=1)}x?c[j]=[w[j][0],1*d/x,[1*b/x,1*f/x]]:c[j]=[w[j][0],null,[null,null]]}return c}}(),function(){Dygraph.DataHandlers.ErrorBarsHandler=function(){};var a=Dygraph.DataHandlers.ErrorBarsHandler;a.prototype=new Dygraph.DataHandlers.BarsHandler,a.prototype.extractSeries=function(u,m,q){for(var j,b,f,d,v=[],g=q.get("sigma"),k=q.get("logscale"),c=0;c<u.length;c++){j=u[c][0],d=u[c][m],k&&null!==d&&(d[0]<=0||d[0]-g*d[1]<=0)&&(d=null),null!==d?(b=d[0],null===b||isNaN(b)?v.push([j,b,[b,b,b]]):(f=g*d[1],v.push([j,b,[b-f,b+f,d[1]]]))):v.push([j,null,[null,null,null]])}return v},a.prototype.rollingAverage=function(A,w,y){w=Math.min(w,A.length);var m,b,j,f,B,k,q,c,v,x=[],z=y.get("sigma");for(m=0;m<A.length;m++){for(B=0,c=0,k=0,b=Math.max(0,m-w+1);m+1>b;b++){j=A[b][1],null===j||isNaN(j)||(k++,B+=j,c+=Math.pow(A[b][2][2],2))}k?(q=Math.sqrt(c)/k,v=B/k,x[m]=[A[m][0],v,[v-z*q,v+z*q]]):(f=1==w?A[m][1]:null,x[m]=[A[m][0],f,[f,f]])}return x}}(),function(){Dygraph.DataHandlers.FractionsBarsHandler=function(){};var a=Dygraph.DataHandlers.FractionsBarsHandler;a.prototype=new Dygraph.DataHandlers.BarsHandler,a.prototype.extractSeries=function(E,x,C){for(var q,b,k,j,F,m,v,f,w=[],z=100,D=C.get("sigma"),A=C.get("logscale"),B=0;B<E.length;B++){q=E[B][0],k=E[B][x],A&&null!==k&&(k[0]<=0||k[1]<=0)&&(k=null),null!==k?(j=k[0],F=k[1],null===j||isNaN(j)?w.push([q,j,[j,j,j,F]]):(m=F?j/F:0,v=F?D*Math.sqrt(m*(1-m)/F):1,f=z*v,b=z*m,w.push([q,b,[b-f,b+f,j,F]]))):w.push([q,null,[null,null,null,null]])}return w},a.prototype.rollingAverage=function(m,G,J){G=Math.min(G,m.length);var C,w,A,z,q=[],B=J.get("sigma"),D=J.get("wilsonInterval"),x=0,E=0,H=100;for(A=0;A<m.length;A++){x+=m[A][2][2],E+=m[A][2][3],A-G>=0&&(x-=m[A-G][2][2],E-=m[A-G][2][3]);var k=m[A][0],I=E?x/E:0;if(D){if(E){var b=0>I?0:I,K=E,j=B*Math.sqrt(b*(1-b)/K+B*B/(4*K*K)),F=1+B*B/E;C=(b+B*B/(2*E)-j)/F,w=(b+B*B/(2*E)+j)/F,q[A]=[k,b*H,[C*H,w*H]]}else{q[A]=[k,0,[0,0]]}}else{z=E?B*Math.sqrt(I*(1-I)/E):1,q[A]=[k,H*I,[H*(I-z),H*(I+z)]]}}return q}}();!function(e,d){var f;return f="function"==typeof define&&define.amd?define("regression",d):"undefined"!=typeof module?module.exports=d():e.regression=d()}(this,function(){function h(n,m){var r=n.reduce(function(d,c){return d+c[1]},0),q=r/n.length,p=n.reduce(function(e,d){var f=d[1]-q;return e+f*f},0),o=n.reduce(function(b,v,u){var t=m[u],s=v[1]-t[1];return b+s*s},0);return 1-o/p}function g(u,t){var s=0,r=0,q=0,p=0,o=0,n=u.length-1,m=new Array(t);for(s=0;n>s;s++){for(p=s,r=s+1;n>r;r++){Math.abs(u[s][r])>Math.abs(u[s][p])&&(p=r)}for(q=s;n+1>q;q++){o=u[q][s],u[q][s]=u[q][p],u[q][p]=o}for(r=s+1;n>r;r++){for(q=n;q>=s;q--){u[q][r]-=u[q][s]*u[s][r]/u[s][s]}}}for(r=n-1;r>=0;r--){for(o=0,q=r+1;n>q;q++){o+=u[q][r]*m[q]}m[r]=(u[n][r]-o)/u[r][r]}return m}function l(e,d){var f=Math.pow(10,d);return Math.round(e*f)/f}var k,j=2,i={linear:function(s,r,q){for(var p,o,n,m=[0,0,0,0,0],c=s.length,a=0;c>a;a++){null!==s[a][1]&&(m[0]+=s[a][0],m[1]+=s[a][1],m[2]+=s[a][0]*s[a][0],m[3]+=s[a][0]*s[a][1],m[4]+=s[a][1]*s[a][1])}return o=(c*m[3]-m[0]*m[1])/(c*m[2]-m[0]*m[0]),n=m[1]/c-o*m[0]/c,p=s.map(function(e){var d=e[0];return[d,o*d+n]}),{r2:h(s,p),equation:[o,n],points:p,string:"y = "+l(o,q.precision)+"x + "+l(n,q.precision)}},linearthroughorigin:function(a,q,p){for(var o,n,m=[0,0],c=0;c<a.length;c++){null!==a[c][1]&&(m[0]+=a[c][0]*a[c][0],m[1]+=a[c][0]*a[c][1])}return o=m[1]/m[0],n=a.map(function(e){var d=e[0];return[d,o*d]}),{r2:h(a,n),equation:[o],points:n,string:"y = "+l(o,p.precision)+"x"}},exponential:function(s,r,q){for(var p,o,n,m,c=[0,0,0,0,0,0],a=0;a<s.length;a++){null!==s[a][1]&&(c[0]+=s[a][0],c[1]+=s[a][1],c[2]+=s[a][0]*s[a][0]*s[a][1],c[3]+=s[a][1]*Math.log(s[a][1]),c[4]+=s[a][0]*s[a][1]*Math.log(s[a][1]),c[5]+=s[a][0]*s[a][1])}return p=c[1]*c[2]-c[5]*c[5],o=Math.exp((c[2]*c[3]-c[5]*c[4])/p),n=(c[1]*c[4]-c[5]*c[3])/p,m=s.map(function(e){var d=e[0];return[d,o*Math.exp(n*d)]}),{r2:h(s,m),equation:[o,n],points:m,string:"y = "+l(o,q.precision)+"e^("+l(n,q.precision)+"x)"}},logarithmic:function(s,r,q){for(var p,o,n,m=[0,0,0,0],c=s.length,a=0;c>a;a++){null!==s[a][1]&&(m[0]+=Math.log(s[a][0]),m[1]+=s[a][1]*Math.log(s[a][0]),m[2]+=s[a][1],m[3]+=Math.pow(Math.log(s[a][0]),2))}return o=(c*m[1]-m[2]*m[0])/(c*m[3]-m[0]*m[0]),p=(m[2]-o*m[0])/c,n=s.map(function(e){var d=e[0];return[d,p+o*Math.log(d)]}),{r2:h(s,n),equation:[p,o],points:n,string:"y = "+l(p,q.precision)+" + "+l(o,q.precision)+" ln(x)"}},power:function(s,r,q){for(var p,o,n,m=[0,0,0,0],c=s.length,a=0;c>a;a++){null!==s[a][1]&&(m[0]+=Math.log(s[a][0]),m[1]+=Math.log(s[a][1])*Math.log(s[a][0]),m[2]+=Math.log(s[a][1]),m[3]+=Math.pow(Math.log(s[a][0]),2))}return o=(c*m[1]-m[2]*m[0])/(c*m[3]-m[0]*m[0]),p=Math.exp((m[2]-o*m[0])/c),n=s.map(function(e){var d=e[0];return[d,p*Math.pow(d,o)]}),{r2:h(s,n),equation:[p,o],points:n,string:"y = "+l(p,q.precision)+"x^"+l(o,q.precision)}},polynomial:function(E,D,C){var B,A,z,y,x,w,v,u,t=[],c=[],b=0,a=0,F=E.length;for(A="undefined"==typeof D?3:D+1,z=0;A>z;z++){for(x=0;F>x;x++){null!==E[x][1]&&(b+=Math.pow(E[x][0],z)*E[x][1])}for(t.push(b),b=0,B=[],y=0;A>y;y++){for(x=0;F>x;x++){null!==E[x][1]&&(a+=Math.pow(E[x][0],z+y))}B.push(a),a=0}c.push(B)}for(c.push(t),v=g(c,A),w=E.map(function(e){var d=e[0],f=v.reduce(function(m,o,n){return m+o*Math.pow(d,n)},0);return[d,f]}),u="y = ",z=v.length-1;z>=0;z--){u+=z>1?l(v[z],C.precision)+"x^"+z+" + ":1===z?l(v[z],C.precision)+"x + ":l(v[z],C.precision)}return{r2:h(E,w),equation:v,points:w,string:u}},lastvalue:function(a,p,o){for(var n=[],m=null,c=0;c<a.length;c++){null!==a[c][1]&&isFinite(a[c][1])?(m=a[c][1],n.push([a[c][0],a[c][1]])):n.push([a[c][0],m])}return{r2:h(a,n),equation:[m],points:n,string:""+l(m,o.precision)}}};return k=function(f,e,o,n){var m="object"==typeof o&&"undefined"==typeof n?o:n||{};return m.precision||(m.precision=j),"string"==typeof f?i[f.toLowerCase()](e,o,m):null}});var GravityFilter={b:0.1,y:0,reset:function(){this.y=0},add:function(b){if(this.y==0){this.y=b}else{this.y=this.y+this.b*(b-this.y)}return Math.round(this.y*10000)/10000},setBeta:function(b){this.b=b}};var GravityTracker={NumberOfSlots:48,InvalidValue:255,ridx:0,record:[],threshold:1,setThreshold:function(a){this.threshold=a},addRecord:function(a){this.record[this.ridx++]=a;if(this.ridx>=this.NumberOfSlots){this.ridx=0}},stable:function(f,e){e=(typeof e=="undefined")?this.threshold:e;var h=this.ridx-1;if(h<0){h=this.NumberOfSlots-1}var g=this.NumberOfSlots+this.ridx-f;while(g>=this.NumberOfSlots){g-=this.NumberOfSlots}return(this.record[g]-this.record[h])<=e},Period:60*60,init:function(){this.curerntStart=0;this.lastValue=0},add:function(e,d){gravity=Math.round(e*1000,1);var f=d-this.curerntStart;if(f>this.Period){this.addRecord(gravity);if(this.lastValue!=0){f-=this.Period;while(f>this.Period){f-=this.Period;this.addRecord(this.lastValue)}}this.curerntStart=d;this.lastValue=gravity}}};function fgstate(d){var c={0:"red",12:"orange",24:"yellow",48:"green"};Q("#fgstate").style.backgroundColor=c[d]}function checkfgstate(){if(GravityTracker.stable(12)){if(GravityTracker.stable(24)){if(GravityTracker.stable(48)){fgstate(48)}else{fgstate(24)}}else{fgstate(12)}}else{fgstate(0)}}var GravityIndex=6;var TiltAngleIndex=7;var RoomTemperatureIndex=4;var BrewChart=function(b){this.cid=b;this.ctime=0;this.interval=60;this.numLine=7;this.numData=8;this.calculateSG=false;this.calibrating=false;this.lidx=0;this.celius=true;this.clearData()};var colorIdle="white";var colorCool="rgba(0, 0, 255, 0.4)";var colorHeat="rgba(255, 0, 0, 0.4)";var colorWaitingHeat="rgba(255, 0, 0, 0.2)";var colorWaitingCool="rgba(0, 0, 255, 0.2)";var colorHeatingMinTime="rgba(255, 0, 0, 0.6)";var colorCoolingMinTime="rgba(0, 0, 255, 0.6)";var colorWaitingPeakDetect="rgba(0, 0, 0, 0.2)";var STATE_LINE_WIDTH=15;var STATES=[{name:"IDLE",color:colorIdle,text:"Idle"},{name:"STATE_OFF",color:colorIdle,text:"Off"},{name:"DOOR_OPEN",color:"#eee",text:"Door Open",doorOpen:true},{name:"HEATING",color:colorHeat,text:"Heating"},{name:"COOLING",color:colorCool,text:"Cooling"},{name:"WAITING_TO_COOL",color:colorWaitingCool,text:"Waiting to Cool",waiting:true},{name:"WAITING_TO_HEAT",color:colorWaitingHeat,text:"Waiting to Heat",waiting:true},{name:"WAITING_FOR_PEAK_DETECT",color:colorWaitingPeakDetect,text:"Waiting for Peak",waiting:true},{name:"COOLING_MIN_TIME",color:colorCoolingMinTime,text:"Cooling Min Time",extending:true},{name:"HEATING_MIN_TIME",color:colorHeatingMinTime,text:"Heating Min Time",extending:true},{name:"INVALID",color:colorHeatingMinTime,text:"Invalid State"}];BrewChart.Mode={b:"Beer Constant",f:"Fridge Constant",o:"Off",p:"Profile"};BrewChart.Colors=["rgb(240, 100, 100)","rgb(41,170,41)","rgb(89, 184, 255)","rgb(255, 161, 76)","#AAAAAA","#f5e127","rgb(153,0,153)","#000abb"];BrewChart.Labels=["Time","beerSet","beerTemp","fridgeTemp","fridgeSet","roomTemp","auxTemp","gravity","filtersg"];BrewChart.ClassLabels=["","beer-set","beer-temp","fridge-temp","fridge-set","room-temp","aux-temp","gravity","filtersg"];var BeerTempLine=2;var BeerSetLine=1;var FridgeTempLine=3;var FridgeSetLine=4;var RoomTempLine=5;var AuxTempLine=6;var GravityLine=7;var FilteredSgLine=8;BrewChart.prototype.clearData=function(){this.laststat=[NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN];this.sg=NaN;this.og=NaN};BrewChart.prototype.setCelius=function(a){this.celius=a;this.ylabel(STR.ChartLabel+"("+(a?"C":"F")+")")};BrewChart.prototype.incTime=function(){this.ctime+=this.interval};BrewChart.prototype.formatDate=function(h){var f=h.getHours();var e=h.getMinutes();var i=h.getSeconds();function g(a){return(a>9)?a:("0"+a)}return h.toLocaleDateString()+" "+g(f)+":"+g(e)+":"+g(i)};BrewChart.prototype.formatDuration=function(f){var e="";var h=Math.floor(f/86400);if(h>0){e=h+"d";f-=h*86400}var g=f/3600;e=e+g.toFixed(1)+"h";return e};BrewChart.prototype.showLegend=function(h,f){var k=new Date(h);Q(".beer-chart-legend-time").innerHTML=this.formatDate(k);if(Q(".beer-chart-legend-elapse")){Q(".beer-chart-legend-elapse").innerHTML=this.formatDuration(k.getTime()/1000-this.starttime)}Q(".chart-legend-row.beer-temp .legend-value").innerHTML=this.tempFormat(this.chart.getValue(f,BeerTempLine));Q(".chart-legend-row.beer-set .legend-value").innerHTML=this.tempFormat(this.chart.getValue(f,BeerSetLine));Q(".chart-legend-row.fridge-temp .legend-value").innerHTML=this.tempFormat(this.chart.getValue(f,FridgeTempLine));Q(".chart-legend-row.fridge-set .legend-value").innerHTML=this.tempFormat(this.chart.getValue(f,FridgeSetLine));Q(".chart-legend-row.room-temp .legend-value").innerHTML=this.tempFormat(this.chart.getValue(f,RoomTempLine));Q(".chart-legend-row.aux-temp .legend-value").innerHTML=this.tempFormat(this.chart.getValue(f,AuxTempLine));var i=this.chart.getValue(f,GravityLine);Q(".chart-legend-row.gravity .legend-value").innerHTML=(!i||isNaN(i))?"--":i.toFixed(4);var l=this.chart.getValue(f,FilteredSgLine);Q(".chart-legend-row.filtersg .legend-value").innerHTML=(!l||isNaN(l))?"--":l.toFixed(4);var j=parseInt(this.state[f]);if(!isNaN(j)){Q(".beer-chart-state").innerHTML=STATES[j].text}};BrewChart.prototype.hideLegend=function(){var a=document.querySelectorAll(".legend-value");a.forEach(function(b){b.innerHTML="--"});Q(".beer-chart-legend-time").innerHTML=this.dateLabel;Q(".beer-chart-state").innerHTML="state"};BrewChart.prototype.tempFormat=function(d){var c=parseFloat(d);if(isNaN(c)){return"--"}var b=this.celius?"C":"F";return parseFloat(c).toFixed(2)+b};BrewChart.prototype.initLegend=function(){if(Q(".beer-temp .toggle")){for(var c=1;c<BrewChart.ClassLabels.length;c++){var b=BrewChart.ClassLabels[c];Q(".chart-legend-row."+b).style.color=BrewChart.Colors[c-1];Q("."+b+".toggle").style.backgroundColor=BrewChart.Colors[c-1]}}this.dateLabel=Q(".beer-chart-legend-time").innerHTML};BrewChart.prototype.toggleLine=function(d){this.shownlist[d]=!this.shownlist[d];var c=BrewChart.ClassLabels[d];if(this.shownlist[d]){if(Q("."+c+" .toggle")){Q("."+c+" .toggle").style.backgroundColor=Q(".chart-legend-row."+c).style.color}this.chart.setVisibility(d-1,true)}else{if(Q("."+c+" .toggle")){Q("."+c+" .toggle").style.backgroundColor="transparent"}this.chart.setVisibility(d-1,false)}};BrewChart.prototype.createChart=function(){var a=this;a.initLegend();a.shownlist=[true,true,true,true,true,true,true,true,true];var c=document.createElement("div");c.className="hide";document.body.appendChild(c);var b={labels:BrewChart.Labels,colors:BrewChart.Colors,connectSeparatedPoints:true,ylabel:"Temperature",y2label:"Gravity",series:{gravity:{axis:"y2",drawPoints:true,pointSize:2,highlightCircleSize:4},filtersg:{axis:"y2",}},axisLabelFontSize:12,animatedZooms:true,gridLineColor:"#ccc",gridLineWidth:"0.1px",labelsDiv:c,labelsDivStyles:{display:"none"},displayAnnotations:true,strokeWidth:1,axes:{y:{valueFormatter:function(d){return a.tempFormat(d)}},y2:{valueFormatter:function(d){return d.toFixed(3)},axisLabelFormatter:function(d){return d.toFixed(3).substring(1)}}},highlightCircleSize:2,highlightSeriesOpts:{strokeWidth:1.5,strokeBorderWidth:1,highlightCircleSize:5},highlightCallback:function(h,f,g,d){a.showLegend(f,d)},unhighlightCallback:function(d){a.hideLegend()},underlayCallback:function(e,d,f){e.save();try{a.drawBackground(e,d,f)}finally{e.restore()}}};a.chart=new Dygraph(document.getElementById(a.cid),a.data,b)};BrewChart.prototype.findNearestRow=function(f,e){var d=0,i=f.numRows()-1;var j,h;while(d<i){j=Math.floor((d+i)/2);h=f.getValue(j,0)-e;if(h<0){d=j+1;continue}if(h>0){i=j-1;continue}return j}return d};BrewChart.prototype.findStateBlocks=function(k,h,f){var n=[];var m=this.state[h];var l;for(var j=h;j<f;j++){l=this.state[j];if(l!==m){n.push({row:j,state:m});m=l}}n.push({row:f,state:m});return n};BrewChart.prototype.getTime=function(c,b){if(b>=c.numRows()){b=c.numRows()-1}return c.getValue(b,0)};BrewChart.prototype.drawBackground=function(E,D,C){var B=C.toDataXCoord(D.x);var A=C.toDataXCoord(D.x+D.w);var z=Math.max(this.findNearestRow(C,B)-1,0);var y=this.findNearestRow(C,A)+1;if(z===null||y===null){return}var x=this.findStateBlocks(C,z,y);var v=0;for(var w=0;w<x.length;w++){var u=x[w];var s=u.row;var F=this.getTime(C,s);var o=(F-B)/(A-B);var q=Math.floor(D.x+(D.w*o));var p=STATES[parseInt(u.state,10)];if(p===undefined){p=STATES[0]}E.fillStyle=p.color;E.fillRect(v,D.h-STATE_LINE_WIDTH,q-v,D.h);v=q}};BrewChart.prototype.addMode=function(b,a){var c=String.fromCharCode(b);this.anno.push({series:"beerTemp",x:a,shortText:c.toUpperCase(),text:BrewChart.Mode[c],attachAtBottom:true})};BrewChart.testData=function(b){if(b[0]!=255){return false}var c=b[1]&7;if(c!=5){return false}return{sensor:c,f:b[1]&16}};BrewChart.prototype.addResume=function(b){this.anno.push({series:"beerTemp",x:this.ctime*1000,shortText:"R",text:"Resume",attachAtBottom:true})};BrewChart.prototype.getTiltAround=function(e){var d=-1;var g=-1;if(this.angles[e]!=null){return this.angles[e]}for(var f=e-1;f>=0;f--){if(this.angles[f]!=null){d=f;break}}for(var f=e+1;f<this.angles.length>0;f++){if(this.angles[f]!=null){g=f;break}}if(d<0&&g<0){return NaN}if(d<0){return this.angles[g]}if(g<0){return this.angles[d]}return this.angles[d]+(this.angles[g]-this.angles[d])/(g-d)*(e-d)};BrewChart.prototype.getCalibration=function(){var d=[];for(var e=0;e<this.data.length;e++){if(this.data[e][7]){var c=this.getTiltAround(e);if(!isNaN(c)){d.push([c,this.data[e][7]])}}}d.push([this.tiltInWater,1]);return d};BrewChart.prototype.getFormula=function(){var d=this.getCalibration();if(d.length<2){return}var c=regression("polynomial",d,(d.length>3)?3:((d.length>2)?2:1),{precision:9});this.calibrationPoints=d;this.calculateSG=true;this.sgByTilt=(d.length>3)?function(a){return c.equation[0]+c.equation[1]*a+c.equation[2]*a*a+c.equation[3]*a*a*a}:((d.length>2)?function(a){return c.equation[0]+c.equation[1]*a+c.equation[2]*a*a}:function(a){return c.equation[0]+c.equation[1]*a})};BrewChart.prototype.tempCorrected=function(b,c){var d=(this.celius)?C2F(c):c;return b+0.001*(1.313454-(0.132674*d)+(0.002057793*d*d)-(0.000002627634*d*d*d))};BrewChart.prototype.process=function(J){var I=false;var H=false;var r=this;r.filterSg=null;for(var B=0;B<J.length;){var F=J[B++];var E=J[B++];if(F==255){if((E&15)!=5){alert("log version mismatched!");return}r.celius=(E&16)?false:true;r.calibrating=(E&32)?false:true;var s=J[B++];s=s*256+J[B++];r.interval=s;r.starttime=(J[B]<<24)+(J[B+1]<<16)+(J[B+2]<<8)+J[B+3];r.ctime=r.starttime;B+=4;r.data=[];r.anno=[];r.state=[];r.angles=[];r.rawSG=[];r.cstate=0;this.clearData();I=true;GravityFilter.reset();GravityTracker.init()}else{if(F==244){r.addMode(E,r.ctime*1000)}else{if(F==241){r.cstate=E}else{if(F==254){if(r.lidx){var D;for(D=r.lidx;D<r.numLine;D++){r.dataset.push(NaN)}r.data.push(r.dataset);r.state.push(null);r.angles.push(null);r.rawSG.push[null]}r.lidx=0;var C=J[B++];var A=J[B++];var z=A+(C<<8)+(E<<16);var y=r.starttime+z;if(y>r.ctime&&y-r.ctime<600){r.ctime=y}else{r.ctime+=r.interval}r.addResume(E)}else{if(F==248){var x=J[B++];var w=J[B++];var q=(x&127)*256+w;r.og=q/10000}else{if(F==249){var x=J[B++];var w=J[B++];var q=(x&127)*256+w;r.tiltInWater=q/100}else{if(F==240){r.changes=E;r.lidx=0;var G=new Date(this.ctime*1000);r.dataset=[G];r.processRecord()}else{if(F<128){var u=F*256+E;if(r.lidx==GravityIndex){u=(u==32767)?NaN:((u>8000)?u/10000:u/1000);H=true}else{if(r.lidx==TiltAngleIndex){u=(u==32767)?NaN:(u/100)}else{u=(u==32767)?NaN:u/100;if(u>=225){u=225-u}}}if(r.lidx<r.numData){if(typeof r.dataset!="undefined"){r.dataset.push(u);r.laststat[r.lidx]=u;r.lidx++;r.processRecord()}else{console.log("Error: missing tag.")}}else{console.log("Error: data overlap?")}}}}}}}}}}return{nc:I,sg:H}};BrewChart.prototype.updateChart=function(){var a=this;if(typeof a.chart=="undefined"){a.createChart()}else{a.chart.updateOptions({file:a.data})}a.chart.setAnnotations(a.anno)};BrewChart.prototype.processRecord=function(){var f=this;while((((1<<f.lidx)&f.changes)==0)&&f.lidx<f.numData){f.dataset.push((f.lidx>RoomTemperatureIndex)?null:f.laststat[f.lidx]);f.lidx++}if(f.lidx>=f.numData){var e=f.dataset.slice(0,8);var d=f.dataset[7];var g=NaN;if(!f.calculateSG&&f.dataset[7]!=null){g=f.dataset[7]}else{if(f.calculateSG){if(f.dataset[8]==null){e[7]=null}else{g=f.tempCorrected(f.sgByTilt(f.dataset[8]),e[AuxTempLine]);e[7]=g}}}if(!isNaN(g)){f.sg=g;f.filterSg=GravityFilter.add(g);GravityTracker.add(f.filterSg,f.ctime)}if(!isNaN(f.sg)){e.push(f.filterSg)}else{e.push(null)}f.data.push(e);f.state.push(f.cstate);f.angles.push(f.dataset[8]);f.rawSG.push(d);f.incTime()}};var JSVERION="2.4";function s_ajax(a){var d=new XMLHttpRequest();d.onreadystatechange=function(){if(d.readyState==4){if(d.status==200){a.success(d.responseText)}else{d.onerror(d.status)}}};d.ontimeout=function(){if(typeof a.timeout!="undefined"){a.timeout()}else{d.onerror(-1)}},d.onerror=function(b){if(typeof a.fail!="undefined"){a.fail(b)}};d.open(a.m,a.url,true);if(typeof a.data!="undefined"){d.setRequestHeader("Content-Type",(typeof a.mime!="undefined")?a.mime:"application/x-www-form-urlencoded");d.send(a.data)}else{d.send()}}var Q=function(a){return document.querySelector(a)};function C2F(a){return Math.round((a*1.8+32)*10)/10}function F2C(a){return Math.round((a-32)/1.8*10)/10}function openDlgLoading(){document.getElementById("dlg_loading").style.display="block"}function closeDlgLoading(){document.getElementById("dlg_loading").style.display="none"}var BrewMath={abv:function(d,c){return((76.08*(d-c)/(1.775-d))*(c/0.794)).toFixed(1)},att:function(d,c){return Math.round((d-c)/(d-1)*100)},sg2pla:function(b){return -616.868+1111.14*b-630.272*b*b+135.997*b*b*b},pla2sg:function(b){return 1+(b/(258.6-((b/258.2)*227.1)))}};Date.prototype.shortLocalizedString=function(){var k=this.getYear()+1900;var f=new RegExp("[^\d]?"+k+"[^\d]?");var j=this.toLocaleDateString();var e=j.replace(f,"");var i=this.getHours();var h=this.getMinutes();function g(a){return(a>9)?a:("0"+a)}return e+" "+g(i)+":"+g(h)};function getActiveNavItem(){var d=window.location.pathname.split("/").pop();var c=Q('.options>li>a[href="/'+d+'"]');c.className+="active"}var PolyRegression={points:[],clear:function(){var f=document.getElementById("pointlist").getElementsByTagName("tbody")[0];var e=f.getElementsByTagName("tr");var j=e.length;for(var g=e.length-1;g>0;g--){var h=e[g];h.parentNode.removeChild(h)}return f},newrow:function(h){var g=document.createElement("tr");var f=document.createElement("td");f.className="pl_tilt";f.innerHTML=this.points[h][0].toFixed(2);var l=document.createElement("td");l.className="pl_sg";l.innerHTML=this.points[h][1];var k=document.createElement("td");if(typeof this.values!="undefined"){k.innerHTML=this.values[h].toFixed(4)}var j=document.createElement("td");if(typeof this.errors!="undefined"){j.innerHTML=(this.errors[h]*1000).toFixed(1)}g.appendChild(f);g.appendChild(l);g.appendChild(k);g.appendChild(j);return g},show:function(){this.getFormula();var b=this.clear();for(var c=0;c<this.points.length;c++){b.appendChild(this.newrow(c))}this.chart()},getFormula:function(){if(this.points.length<2){return}var f=regression("polynomial",this.points,(this.points.length>3)?3:((this.points.length>2)?2:1),{precision:9});Q("#polynormial").innerHTML=f.string;var e=[];var l=[];var j=f.equation;for(var h=0;h<this.points.length;h++){var k=f.points[h][1];var g=this.points[h][1];e.push(k-g);l.push(k)}this.errors=e;this.values=l;this.regression=f},chart:function(){var b=[];for(var c=0;c<this.points.length;c++){b.push([this.points[c][0],this.points[c][1],this.regression.points[c][1]])}if(typeof this.graph=="undefined"){this.graph=new Dygraph(document.getElementById("graph"),b,{labels:["Tilt","SG","Interpolated"],colors:["rgb(240, 100, 100)","rgb(89, 184, 255)"],series:{SG:{drawPoints:true,pointSize:4,strokeWidth:0}},axisLabelFontSize:12,gridLineColor:"#ccc",gridLineWidth:"0.1px",strokeWidth:1,xRangePad:10,axes:{y:{axisLabelWidth:40,axisLabelFormatter:function(a){return a.toFixed(3)},valueFormatter:function(a){return a.toFixed(3)}},x:{pixelsPerLabel:30,axisLabelWidth:40}}})}else{this.graph.updateOptions({file:b});this.graph.resize()}}};function openpolynomialpane(){Q("#polynomialpane").style.display="block";PolyRegression.points=BChart.chart.calibrationPoints;PolyRegression.show()}function closepolynomialpane(){Q("#polynomialpane").style.display="none"}var BChart={toggle:function(b){this.chart.toggleLine(b)},init:function(b){this.chart=new BrewChart(b)}};function loaded(){function a(c){if(c){var b=new FileReader();b.onload=function(g){window.file=c;var f=new Uint8Array(g.target.result);if(BrewChart.testData(f)!==false){BChart.chart.process(f);if(BChart.chart.calibrating){BChart.chart.getFormula();BChart.chart.process(f);if(BChart.chart.calculateSG){Q("#formula-btn").style.display="block"}}BChart.chart.updateChart();var d=new Date(BChart.chart.starttime*1000);Q("#log-start").innerHTML=BChart.chart.formatDate(d)}else{alert("Invalid log!")}};b.readAsArrayBuffer(c)}else{alert("Failed to load file")}}BChart.init("div_g");if(Q("#dropfile")){Q("#dropfile").ondragover=function(b){b.stopPropagation();b.preventDefault();b.dataTransfer.dropEffect="copy"};Q("#dropfile").ondrop=function(c){c.stopPropagation();c.preventDefault();var b=c.dataTransfer.files[0];a(b)}}Q("#fileinput").onchange=function(b){var c=b.target.files[0];a(c);BChart.chart.dataset}}function download(f,e){var h=document.createElement("a");if(h.download===undefined){alert("Brower doesn't support downloading file.");return}var g=URL.createObjectURL(f);h.setAttribute("href",g);h.setAttribute("download",e);h.style.visibility="hidden";document.body.appendChild(h);h.click();document.body.removeChild(h)}function exportcsv(){if(typeof window.file=="undefined"){return}var h="Time, Unix Time";for(var k=1;k<BrewChart.Labels.length;k++){h=h+((k==0)?"":",")+BrewChart.Labels[k]}h=h+",Tilt,state\n";for(var g=0;g<BChart.chart.data.length;g++){for(var k=0;k<BrewChart.Labels.length;k++){var j=BChart.chart.chart.getValue(g,k);if(j===null){j=""}else{if(isNaN(j)){j=""}}if(k==0){var n=new Date(j);h=h+n.toISOString()+","+(j/1000)}else{h=h+","+j}}h=h+","+BChart.chart.angles[g];var o=parseInt(BChart.chart.state[g]);var m=(!isNaN(o))?STATES[o].text:"";h=h+","+m+"\n"}var l=new Blob([h],{type:"text/csv;"});download(l,window.file.name+".csv")}function cutrange(){if(typeof window.file=="undefined"){return}var d=BChart.chart.chart.xAxisRange();var c=BChart.chart.partial(d[0],d[1]);download(new Blob(c,{type:"octet/stream"}),window.file.name+"-partial")};/*]]>*/</script>
<link href="https://fonts.googleapis.com/css?family=Roboto" rel=stylesheet>
<style>*{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}body,html{height:100%}a{text-decoration:none}html{line-height:1.5;font-family:Roboto,sans-serif;font-weight:400;color:rgba(0,0,0,.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}h1,h2,h3,h4,h5,h6{font-weight:400;line-height:1.1}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{font-weight:inherit}h1{font-size:4.2rem;line-height:110%;margin:2.1rem 0 1.68rem 0}h2{font-size:3.56rem;line-height:110%;margin:1.78rem 0 1.424rem 0}h3{font-size:2.92rem;line-height:110%;margin:1.46rem 0 1.168rem 0}h4{font-size:2.28rem;line-height:110%;margin:1.14rem 0 .912rem 0}h5{font-size:1.64rem;line-height:110%;margin:.82rem 0 .656rem 0}h6{font-size:1rem;line-height:110%;margin:.5rem 0 .4rem 0}em{font-style:italic}strong{font-weight:500}small{font-size:75%}.light{font-weight:300}.thin{font-weight:200}html [layout],html [layout][horizontal],html [layout][vertical]{display:-webkit-box;display:-ms-flexbox;display:flex}html [layout][horizontal]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}html [layout][vertical]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}html [flex]{-webkit-box-flex:1;-ms-flex:1;flex:1;-ms-flex-preferred-size:.000000001px;flex-basis:.000000001px}html [layout][center-center],html [layout][cross-center]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}html [layout][center-center],html [layout][main-center]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}html [layout][main-justified]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}html [layout][main-distributed]{-ms-flex-pack:distribute;justify-content:space-around}html [hidden]{display:none!important}html [relative]{position:relative}.header{height:64px;background:#009688;-webkit-box-shadow:0 0 4px rgba(0,0,0,.14),0 4px 8px rgba(0,0,0,.28);box-shadow:0 0 4px rgba(0,0,0,.14),0 4px 8px rgba(0,0,0,.28);padding:0 16px;z-index:2}.header_title{font-size:32px;line-height:64px;color:#fff;margin:0;padding:0}.header_version-display{font-size:14px;color:#fff}@media(max-width:700px){[navigation] [menuToggle]{display:block;position:relative;z-index:1;top:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}}[navigation] input{display:none}@media(max-width:700px){[navigation] input{display:block;width:40px;height:32px;position:absolute;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}[navigation] input:checked~ul{-webkit-transform:scale(1,1);transform:scale(1,1);opacity:1}[navigation] input:checked~span{opacity:1;-webkit-transform:rotate(45deg) translate(-2px,-1px);transform:rotate(45deg) translate(-2px,-1px);background:#232323}[navigation] input:checked~span:nth-last-child(3){opacity:0;-webkit-transform:rotate(0) scale(.2,.2);transform:rotate(0) scale(.2,.2)}[navigation] input:checked~span:nth-last-child(2){opacity:1;-webkit-transform:rotate(-45deg) translate(0,-1px);transform:rotate(-45deg) translate(0,-1px)}}[navigation] span{display:none}@media(max-width:700px){[navigation] span{display:block;width:33px;height:4px;margin-bottom:5px;position:relative;background:#fff;border-radius:3px;z-index:1;-webkit-transform-origin:4px 0;transform-origin:4px 0;-webkit-transition:background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease,-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease,-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease,-webkit-transform .5s cubic-bezier(.77,.2,.05,1)}[navigation] span:first-child{-webkit-transform-origin:0 0;transform-origin:0 0}[navigation] span:nth-last-child(2){-webkit-transform-origin:0 100%;transform-origin:0 100%}}[navigation] .options{list-style-type:none;height:100%}[navigation] .options>li{display:inline-block;height:100%}[navigation] .options a{color:#fff;text-transform:uppercase;height:100%;padding:8px;display:inline-block;line-height:48px}[navigation] .options a.active{border-bottom:3px solid #ffc107}[navigation] .options a:hover{border-bottom:3px solid #fff}@media(max-width:700px){[navigation] .options{padding-top:64px;position:fixed;display:block;width:100vw;height:100vh;right:0;top:0;background:#ededed;list-style-type:none;-webkit-font-smoothing:antialiased;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translate(100%,0);transform:translate(100%,0);-webkit-transition:-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:-webkit-transform .5s cubic-bezier(.77,.2,.05,1);transition:transform .5s cubic-bezier(.77,.2,.05,1);transition:transform .5s cubic-bezier(.77,.2,.05,1),-webkit-transform .5s cubic-bezier(.77,.2,.05,1)}[navigation] .options>li{display:block;height:auto;text-align:center}[navigation] .options a{color:#222;height:auto;width:100%;display:block}[navigation] .options a.active{color:#ffc107;border:0}[navigation] .options a:hover{background:#ccc;border:0}}.footer{height:40px;background:#222;color:rgba(255,255,255,.87);padding:0 16px}.footer a{color:rgba(255,255,255,.87);font-weight:700}[viewport]{height:calc(100% - 104px)}@media(max-width:900px){[viewport]{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;height:auto}}[main]{padding:16px;overflow-y:auto}@media(max-width:900px){[main]{overflow:initial}}@media(max-width:599px){[main]>[layout] .chart-legend{width:100%}}@media(max-width:599px){[main]>[layout]{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}}.error{position:fixed;left:20px;bottom:50px;background-color:#323232;padding:12px 24px 17px 24px;vertical-align:middle;color:#fff;-webkit-box-shadow:0 7px 18px rgba(0,0,0,.2);box-shadow:0 7px 18px rgba(0,0,0,.2)}.error:empty{display:none}input[type=datetime-local],input[type=number],input[type=text]{width:100%;margin:16px 0;display:block;border:0;padding:18px 0 10px;border-bottom:solid 1px #009688;-webkit-transition:all .3s cubic-bezier(.64,.09,.08,1);transition:all .3s cubic-bezier(.64,.09,.08,1);background:-webkit-gradient(linear,left top,left bottom,color-stop(96%,rgba(255,255,255,0)),color-stop(4%,#009688));background:linear-gradient(to bottom,rgba(255,255,255,0) 96%,#009688 4%);background-position:-100% 0;background-size:100% 100%;background-repeat:no-repeat;color:#00302c}input[type=datetime-local]:focus,input[type=number]:focus,input[type=text]:focus{-webkit-box-shadow:none;box-shadow:none;outline:0;background-position:0 0}input[type=datetime-local]:focus::-webkit-input-placeholder,input[type=number]:focus::-webkit-input-placeholder,input[type=text]:focus::-webkit-input-placeholder{color:#009688;font-size:11px;-webkit-transform:translateY(-20px);transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:focus:-ms-input-placeholder,input[type=number]:focus:-ms-input-placeholder,input[type=text]:focus:-ms-input-placeholder{color:#009688;font-size:11px;transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:focus::placeholder,input[type=number]:focus::placeholder,input[type=text]:focus::placeholder{color:#009688;font-size:11px;-webkit-transform:translateY(-20px);transform:translateY(-20px);visibility:visible!important;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}input[type=datetime-local]:invalid,input[type=number]:invalid,input[type=text]:invalid{background:-webkit-gradient(linear,left top,left bottom,color-stop(96%,rgba(255,255,255,0)),color-stop(4%,red));background:linear-gradient(to bottom,rgba(255,255,255,0) 96%,red 4%)}.hide{display:none!important}.switch-input{display:none}.switch-label{position:relative;display:inline-block;min-width:148px;cursor:pointer;font-weight:500;text-align:left;margin:0;padding:4px 0 4px 44px}.switch-label:after,.switch-label:before{content:"";position:absolute;margin:0;outline:0;top:50%;-webkit-transform:translate(0,-50%);transform:translate(0,-50%);-webkit-transition:all .3s ease;transition:all .3s ease}.switch-label:before{left:1px;width:34px;height:14px;background-color:#ddd;border-radius:8px}.switch-label:after{left:0;width:20px;height:20px;background-color:#fafafa;border-radius:50%;-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.14),0 2px 2px 0 rgba(0,0,0,.098),0 1px 5px 0 rgba(0,0,0,.084);box-shadow:0 3px 1px -2px rgba(0,0,0,.14),0 2px 2px 0 rgba(0,0,0,.098),0 1px 5px 0 rgba(0,0,0,.084)}.switch-input:checked+.switch-label:after{background-color:#4caf50;-webkit-transform:translate(80%,-50%);transform:translate(80%,-50%)}.switch-input:checked+label[for=beer-temp].switch-label:after{background-color:#29aa29}.switch-input:checked+label[for=beer-set].switch-label:after{background-color:#f06464}.switch-input:checked+label[for=fridge-temp].switch-label:after{background-color:#59b8ff}.switch-input:checked+label[for=fridge-set].switch-label:after{background-color:#ffa14c}.switch-input:checked+label[for=room-temp].switch-label:after{background-color:#aaa}.switch-input:checked+label[for=gravity].switch-label:after{background-color:#909}.switch-input:checked+label[for=aux-temp].switch-label:after{background-color:#f5e127}.switch-input:checked+label[for=filtersg].switch-label:after{background-color:#000abb}.modal{display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;overflow-x:hidden;z-index:1000;-webkit-transition:all .5s cubic-bezier(.23,1,.32,1);transition:all .5s cubic-bezier(.23,1,.32,1);-webkit-transition-delay:0s;transition-delay:0s;background:rgba(0,0,0,.3)}.modal-content{position:relative;padding:2.4rem;background:#fff;background-clip:padding-box;-webkit-box-shadow:0 12px 15px 0 rgba(0,0,0,.25);box-shadow:0 12px 15px 0 rgba(0,0,0,.25);-webkit-transition:all .25s cubic-bezier(.23,1,.32,1);transition:all .25s cubic-bezier(.23,1,.32,1);max-width:600px;padding:2rem}.modal-content h2.message{font-size:18px;font-weight:700;text-transform:uppercase}.btn{display:inline-block;position:relative;cursor:pointer;height:35px;line-height:35px;padding:0 1.5rem;font-size:15px;font-weight:600;letter-spacing:.8px;text-align:center;text-transform:uppercase;vertical-align:middle;white-space:nowrap;outline:0;border:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:all .3s ease-out;transition:all .3s ease-out;background-color:transparent;margin-right:8px}.btn[disabled]{color:#bdbdbd}.btn[disabled]:hover{background-color:transparent;cursor:not-allowed}.btn--raised{background-color:#009688;color:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.btn--raised:hover{background-color:#00635a}.btn--primary{color:#009688}.btn:hover{background-color:rgba(153,153,153,.2);cursor:pointer}[side]{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);width:300px;padding:16px;overflow-y:auto;background:#eee}@media(max-width:900px){[side]{width:100%;-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}}.data-pane{list-style-type:none;display:block}.data-pane .heading{border-bottom:1px solid rgba(0,0,0,.64);padding-top:8px;padding-bottom:4px;margin-bottom:4px}.data-pane .heading strong{text-transform:uppercase;display:inline-block}.data-pane .heading #lcdControlState:empty+.for{display:none}.chart{width:calc(100% - 240px);height:390px}@media(max-width:599px){.chart{width:100%;margin-bottom:16px}}.chart-legend{list-style-type:none;width:240px}.chart-legend-row{padding:8px 16px 0 16px}.chart-legend-row>div{display:inline-block}.chart-legend-row .toggle{width:12px;height:12px;margin-right:8px;border-radius:100%;border:1px solid #000}.chart-legend-row .toggle:hover{cursor:pointer}.chart-legend-row.time{background-color:#def;padding-bottom:8px}.legend-label{width:100px;font-weight:700}.legend-label:hover{cursor:pointer}#rssi{position:relative;height:16px;width:24px;display:inline-block}#wifisignal{font-size:12pt;color:#000;font-family:Courier New,Courier,monospace;position:absolute;top:6px;left:4px;display:none}.rssi-bar{position:absolute;bottom:0;float:left;width:4px;border-radius:1px;background-color:#ddd}.rssi-bar1{height:4px;left:0}.rssi-bar2{height:8px;left:6px}.rssi-bar3{height:12px;left:12px}.rssi-bar4{height:16px;left:18px}#fgstate{width:10px;height:10px;border-radius:50%;margin:6px 0 0 0;border:0}#viewlogname{font-size:14px;color:black}#formula-btn{float:right;display:none;font-style:italic}#polynomialpane .modal-content{position:relative;max-width:800px}#pointlist{border-collapse:collapse}#pointlist th{border:solid 1px}#pointlist td{border:solid 1px;border-collapse:collapse}#xclose{float:right;font-size:14px}header a{color:#fff;text-transform:uppercase;height:100%;padding:8px;display:inline-block;line-height:48px}</style>
</head>
<body onload=loaded()>
<header layout horizontal main-justified cross-center relative class=header>
<h1 class=header_title><span id=hostname>BPL LogViewer</span> <span id=verinfo class=header_version-display>v2.4</span></h1>
<div id="fileinputgrp">
<input type="file" id="fileinput" />
</div>
<a href="#" onclick="cutrange();return false">Crop to</a>
<a href="#" onclick="exportcsv();return false">Export</a>
</header>
<div viewport layout horizontal>
<div main flex>
<div layout horizontal>
<div id=div_g class=chart></div>
<ul flex class=chart-legend>
<li layout horizontal main-justified class="chart-legend-row time"><span class=beer-chart-legend-time>Date/Time</span> <span class=beer-chart-state>state</span></li>
<li layout horizontal main-justified class="chart-legend-row"><label>Since</label><span id="log-start"></span></li>
<li layout horizontal main-justified class="chart-legend-row elapse"><label>Elapsed</label><span class="beer-chart-legend-elapse legend-value">--</span></li>
<li layout horizontal main-justified class="chart-legend-row beer-temp"><input type=checkbox id=beer-temp name=set-name class=switch-input checked><label onclick='BChart.toggle(BeerTempLine)' for=beer-temp class=switch-label>Beer Temp:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row beer-set"><input type=checkbox id=beer-set name=set-name class=switch-input checked><label onclick='BChart.toggle(BeerSetLine)' for=beer-set class=switch-label>Beer Set:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row fridge-temp"><input type=checkbox id=fridge-temp name=set-name class=switch-input checked><label onclick='BChart.toggle(FridgeTempLine)' for=fridge-temp class=switch-label>Fridge Temp:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row fridge-set"><input type=checkbox id=fridge-set name=set-name class=switch-input checked><label onclick='BChart.toggle(FridgeSetLine)' for=fridge-set class=switch-label>Fridge Set:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row room-temp"><input type=checkbox id=room-temp name=set-name class=switch-input checked><label onclick='BChart.toggle(RoomTempLine)' for=room-temp class=switch-label>Room Temp:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row aux-temp"><input type=checkbox id=aux-temp name=set-name class=switch-input checked><label onclick='BChart.toggle(AuxTempLine)' for=aux-temp class=switch-label>Aux Temp:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row gravity"><input type=checkbox id=gravity name=set-name class=switch-input checked><label onclick='BChart.toggle(GravityLine)' for=gravity class=switch-label>Gravity:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row filtersg"><input type=checkbox id=filtersg name=set-name class=switch-input checked><label onclick='BChart.toggle(FilteredSgLine)' for=filtersg class=switch-label>Filter SG:</label>
<div class=legend-value>--</div>
</li>
<li layout horizontal main-justified class="chart-legend-row" id="formula-btn" onclick="openpolynomialpane()">f</li>
</ul>
</div>
</div>
</div>
<div id="polynomialpane" class="modal">
<div class="modal-content">
<table>
<tr>
<td>
<table id="pointlist">
<tr>
<th>Tilt</th>
<th>SG</th>
<th>Interpolated</th>
<th>Error</th>
</tr>
</table>
</td>
<td>
<div id="graph"></div>
<span id="polynormial"></span>
</td>
</tr>
</table>
<button id="xclose" onclick="closepolynomialpane()">close</button>
</div>
</div>
</body>
</html>